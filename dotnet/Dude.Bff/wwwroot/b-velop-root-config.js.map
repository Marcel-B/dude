{"version":3,"file":"b-velop-root-config.js","mappings":"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","sources":["webpack://root-config/../../node_modules/.pnpm/crypto-js@4.1.1/node_modules/crypto-js/core.js","webpack://root-config/../../node_modules/.pnpm/crypto-js@4.1.1/node_modules/crypto-js/enc-base64.js","webpack://root-config/../../node_modules/.pnpm/crypto-js@4.1.1/node_modules/crypto-js/enc-utf8.js","webpack://root-config/../../node_modules/.pnpm/crypto-js@4.1.1/node_modules/crypto-js/sha256.js","webpack://root-config/../../node_modules/.pnpm/systemjs-webpack-interop@2.3.7_webpack@5.88.2/node_modules/systemjs-webpack-interop/auto-public-path/auto-public-path.js","webpack://root-config/../../node_modules/.pnpm/systemjs-webpack-interop@2.3.7_webpack@5.88.2/node_modules/systemjs-webpack-interop/public-path.js","webpack://root-config/external system \"single-spa\"","webpack://root-config/webpack/bootstrap","webpack://root-config/webpack/runtime/__system_context__","webpack://root-config/webpack/runtime/global","webpack://root-config/webpack/runtime/make namespace object","webpack://root-config/webpack/runtime/publicPath","webpack://root-config/../../node_modules/.pnpm/systemjs-webpack-interop@2.3.7_webpack@5.88.2/node_modules/systemjs-webpack-interop/auto-public-path/1.js","webpack://root-config/../../node_modules/.pnpm/@babel+runtime@7.22.11/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://root-config/../../node_modules/.pnpm/jwt-decode@3.1.2/node_modules/jwt-decode/build/jwt-decode.esm.js","webpack://root-config/../../node_modules/.pnpm/oidc-client-ts@2.2.5/node_modules/oidc-client-ts/dist/esm/oidc-client-ts.js","webpack://root-config/../../node_modules/.pnpm/single-spa-layout@1.6.0/node_modules/single-spa-layout/dist/esm/single-spa-layout.min.js","webpack://root-config/../../node_modules/.pnpm/@babel+runtime@7.22.11/node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://root-config/../../node_modules/.pnpm/@babel+runtime@7.22.11/node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack://root-config/../../node_modules/.pnpm/@babel+runtime@7.22.11/node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack://root-config/../../node_modules/.pnpm/@babel+runtime@7.22.11/node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://root-config/../../node_modules/.pnpm/@babel+runtime@7.22.11/node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://root-config/../../packages/auth/manager.ts","webpack://root-config/../../node_modules/.pnpm/@babel+runtime@7.22.11/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack://root-config/../../packages/auth/werkzeug.ts","webpack://root-config/./src/b-velop-root-config.ts"],"sourcesContent":[";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory();\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\troot.CryptoJS = factory();\n\t}\n}(this, function () {\n\n\t/*globals window, global, require*/\n\n\t/**\n\t * CryptoJS core components.\n\t */\n\tvar CryptoJS = CryptoJS || (function (Math, undefined) {\n\n\t    var crypto;\n\n\t    // Native crypto from window (Browser)\n\t    if (typeof window !== 'undefined' && window.crypto) {\n\t        crypto = window.crypto;\n\t    }\n\n\t    // Native crypto in web worker (Browser)\n\t    if (typeof self !== 'undefined' && self.crypto) {\n\t        crypto = self.crypto;\n\t    }\n\n\t    // Native crypto from worker\n\t    if (typeof globalThis !== 'undefined' && globalThis.crypto) {\n\t        crypto = globalThis.crypto;\n\t    }\n\n\t    // Native (experimental IE 11) crypto from window (Browser)\n\t    if (!crypto && typeof window !== 'undefined' && window.msCrypto) {\n\t        crypto = window.msCrypto;\n\t    }\n\n\t    // Native crypto from global (NodeJS)\n\t    if (!crypto && typeof global !== 'undefined' && global.crypto) {\n\t        crypto = global.crypto;\n\t    }\n\n\t    // Native crypto import via require (NodeJS)\n\t    if (!crypto && typeof require === 'function') {\n\t        try {\n\t            crypto = require('crypto');\n\t        } catch (err) {}\n\t    }\n\n\t    /*\n\t     * Cryptographically secure pseudorandom number generator\n\t     *\n\t     * As Math.random() is cryptographically not safe to use\n\t     */\n\t    var cryptoSecureRandomInt = function () {\n\t        if (crypto) {\n\t            // Use getRandomValues method (Browser)\n\t            if (typeof crypto.getRandomValues === 'function') {\n\t                try {\n\t                    return crypto.getRandomValues(new Uint32Array(1))[0];\n\t                } catch (err) {}\n\t            }\n\n\t            // Use randomBytes method (NodeJS)\n\t            if (typeof crypto.randomBytes === 'function') {\n\t                try {\n\t                    return crypto.randomBytes(4).readInt32LE();\n\t                } catch (err) {}\n\t            }\n\t        }\n\n\t        throw new Error('Native crypto module could not be used to get secure random number.');\n\t    };\n\n\t    /*\n\t     * Local polyfill of Object.create\n\n\t     */\n\t    var create = Object.create || (function () {\n\t        function F() {}\n\n\t        return function (obj) {\n\t            var subtype;\n\n\t            F.prototype = obj;\n\n\t            subtype = new F();\n\n\t            F.prototype = null;\n\n\t            return subtype;\n\t        };\n\t    }());\n\n\t    /**\n\t     * CryptoJS namespace.\n\t     */\n\t    var C = {};\n\n\t    /**\n\t     * Library namespace.\n\t     */\n\t    var C_lib = C.lib = {};\n\n\t    /**\n\t     * Base object for prototypal inheritance.\n\t     */\n\t    var Base = C_lib.Base = (function () {\n\n\n\t        return {\n\t            /**\n\t             * Creates a new object that inherits from this object.\n\t             *\n\t             * @param {Object} overrides Properties to copy into the new object.\n\t             *\n\t             * @return {Object} The new object.\n\t             *\n\t             * @static\n\t             *\n\t             * @example\n\t             *\n\t             *     var MyType = CryptoJS.lib.Base.extend({\n\t             *         field: 'value',\n\t             *\n\t             *         method: function () {\n\t             *         }\n\t             *     });\n\t             */\n\t            extend: function (overrides) {\n\t                // Spawn\n\t                var subtype = create(this);\n\n\t                // Augment\n\t                if (overrides) {\n\t                    subtype.mixIn(overrides);\n\t                }\n\n\t                // Create default initializer\n\t                if (!subtype.hasOwnProperty('init') || this.init === subtype.init) {\n\t                    subtype.init = function () {\n\t                        subtype.$super.init.apply(this, arguments);\n\t                    };\n\t                }\n\n\t                // Initializer's prototype is the subtype object\n\t                subtype.init.prototype = subtype;\n\n\t                // Reference supertype\n\t                subtype.$super = this;\n\n\t                return subtype;\n\t            },\n\n\t            /**\n\t             * Extends this object and runs the init method.\n\t             * Arguments to create() will be passed to init().\n\t             *\n\t             * @return {Object} The new object.\n\t             *\n\t             * @static\n\t             *\n\t             * @example\n\t             *\n\t             *     var instance = MyType.create();\n\t             */\n\t            create: function () {\n\t                var instance = this.extend();\n\t                instance.init.apply(instance, arguments);\n\n\t                return instance;\n\t            },\n\n\t            /**\n\t             * Initializes a newly created object.\n\t             * Override this method to add some logic when your objects are created.\n\t             *\n\t             * @example\n\t             *\n\t             *     var MyType = CryptoJS.lib.Base.extend({\n\t             *         init: function () {\n\t             *             // ...\n\t             *         }\n\t             *     });\n\t             */\n\t            init: function () {\n\t            },\n\n\t            /**\n\t             * Copies properties into this object.\n\t             *\n\t             * @param {Object} properties The properties to mix in.\n\t             *\n\t             * @example\n\t             *\n\t             *     MyType.mixIn({\n\t             *         field: 'value'\n\t             *     });\n\t             */\n\t            mixIn: function (properties) {\n\t                for (var propertyName in properties) {\n\t                    if (properties.hasOwnProperty(propertyName)) {\n\t                        this[propertyName] = properties[propertyName];\n\t                    }\n\t                }\n\n\t                // IE won't copy toString using the loop above\n\t                if (properties.hasOwnProperty('toString')) {\n\t                    this.toString = properties.toString;\n\t                }\n\t            },\n\n\t            /**\n\t             * Creates a copy of this object.\n\t             *\n\t             * @return {Object} The clone.\n\t             *\n\t             * @example\n\t             *\n\t             *     var clone = instance.clone();\n\t             */\n\t            clone: function () {\n\t                return this.init.prototype.extend(this);\n\t            }\n\t        };\n\t    }());\n\n\t    /**\n\t     * An array of 32-bit words.\n\t     *\n\t     * @property {Array} words The array of 32-bit words.\n\t     * @property {number} sigBytes The number of significant bytes in this word array.\n\t     */\n\t    var WordArray = C_lib.WordArray = Base.extend({\n\t        /**\n\t         * Initializes a newly created word array.\n\t         *\n\t         * @param {Array} words (Optional) An array of 32-bit words.\n\t         * @param {number} sigBytes (Optional) The number of significant bytes in the words.\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.lib.WordArray.create();\n\t         *     var wordArray = CryptoJS.lib.WordArray.create([0x00010203, 0x04050607]);\n\t         *     var wordArray = CryptoJS.lib.WordArray.create([0x00010203, 0x04050607], 6);\n\t         */\n\t        init: function (words, sigBytes) {\n\t            words = this.words = words || [];\n\n\t            if (sigBytes != undefined) {\n\t                this.sigBytes = sigBytes;\n\t            } else {\n\t                this.sigBytes = words.length * 4;\n\t            }\n\t        },\n\n\t        /**\n\t         * Converts this word array to a string.\n\t         *\n\t         * @param {Encoder} encoder (Optional) The encoding strategy to use. Default: CryptoJS.enc.Hex\n\t         *\n\t         * @return {string} The stringified word array.\n\t         *\n\t         * @example\n\t         *\n\t         *     var string = wordArray + '';\n\t         *     var string = wordArray.toString();\n\t         *     var string = wordArray.toString(CryptoJS.enc.Utf8);\n\t         */\n\t        toString: function (encoder) {\n\t            return (encoder || Hex).stringify(this);\n\t        },\n\n\t        /**\n\t         * Concatenates a word array to this word array.\n\t         *\n\t         * @param {WordArray} wordArray The word array to append.\n\t         *\n\t         * @return {WordArray} This word array.\n\t         *\n\t         * @example\n\t         *\n\t         *     wordArray1.concat(wordArray2);\n\t         */\n\t        concat: function (wordArray) {\n\t            // Shortcuts\n\t            var thisWords = this.words;\n\t            var thatWords = wordArray.words;\n\t            var thisSigBytes = this.sigBytes;\n\t            var thatSigBytes = wordArray.sigBytes;\n\n\t            // Clamp excess bits\n\t            this.clamp();\n\n\t            // Concat\n\t            if (thisSigBytes % 4) {\n\t                // Copy one byte at a time\n\t                for (var i = 0; i < thatSigBytes; i++) {\n\t                    var thatByte = (thatWords[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                    thisWords[(thisSigBytes + i) >>> 2] |= thatByte << (24 - ((thisSigBytes + i) % 4) * 8);\n\t                }\n\t            } else {\n\t                // Copy one word at a time\n\t                for (var j = 0; j < thatSigBytes; j += 4) {\n\t                    thisWords[(thisSigBytes + j) >>> 2] = thatWords[j >>> 2];\n\t                }\n\t            }\n\t            this.sigBytes += thatSigBytes;\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Removes insignificant bits.\n\t         *\n\t         * @example\n\t         *\n\t         *     wordArray.clamp();\n\t         */\n\t        clamp: function () {\n\t            // Shortcuts\n\t            var words = this.words;\n\t            var sigBytes = this.sigBytes;\n\n\t            // Clamp\n\t            words[sigBytes >>> 2] &= 0xffffffff << (32 - (sigBytes % 4) * 8);\n\t            words.length = Math.ceil(sigBytes / 4);\n\t        },\n\n\t        /**\n\t         * Creates a copy of this word array.\n\t         *\n\t         * @return {WordArray} The clone.\n\t         *\n\t         * @example\n\t         *\n\t         *     var clone = wordArray.clone();\n\t         */\n\t        clone: function () {\n\t            var clone = Base.clone.call(this);\n\t            clone.words = this.words.slice(0);\n\n\t            return clone;\n\t        },\n\n\t        /**\n\t         * Creates a word array filled with random bytes.\n\t         *\n\t         * @param {number} nBytes The number of random bytes to generate.\n\t         *\n\t         * @return {WordArray} The random word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.lib.WordArray.random(16);\n\t         */\n\t        random: function (nBytes) {\n\t            var words = [];\n\n\t            for (var i = 0; i < nBytes; i += 4) {\n\t                words.push(cryptoSecureRandomInt());\n\t            }\n\n\t            return new WordArray.init(words, nBytes);\n\t        }\n\t    });\n\n\t    /**\n\t     * Encoder namespace.\n\t     */\n\t    var C_enc = C.enc = {};\n\n\t    /**\n\t     * Hex encoding strategy.\n\t     */\n\t    var Hex = C_enc.Hex = {\n\t        /**\n\t         * Converts a word array to a hex string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The hex string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var hexString = CryptoJS.enc.Hex.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\n\t            // Convert\n\t            var hexChars = [];\n\t            for (var i = 0; i < sigBytes; i++) {\n\t                var bite = (words[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                hexChars.push((bite >>> 4).toString(16));\n\t                hexChars.push((bite & 0x0f).toString(16));\n\t            }\n\n\t            return hexChars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a hex string to a word array.\n\t         *\n\t         * @param {string} hexStr The hex string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Hex.parse(hexString);\n\t         */\n\t        parse: function (hexStr) {\n\t            // Shortcut\n\t            var hexStrLength = hexStr.length;\n\n\t            // Convert\n\t            var words = [];\n\t            for (var i = 0; i < hexStrLength; i += 2) {\n\t                words[i >>> 3] |= parseInt(hexStr.substr(i, 2), 16) << (24 - (i % 8) * 4);\n\t            }\n\n\t            return new WordArray.init(words, hexStrLength / 2);\n\t        }\n\t    };\n\n\t    /**\n\t     * Latin1 encoding strategy.\n\t     */\n\t    var Latin1 = C_enc.Latin1 = {\n\t        /**\n\t         * Converts a word array to a Latin1 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The Latin1 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var latin1String = CryptoJS.enc.Latin1.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\n\t            // Convert\n\t            var latin1Chars = [];\n\t            for (var i = 0; i < sigBytes; i++) {\n\t                var bite = (words[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                latin1Chars.push(String.fromCharCode(bite));\n\t            }\n\n\t            return latin1Chars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a Latin1 string to a word array.\n\t         *\n\t         * @param {string} latin1Str The Latin1 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Latin1.parse(latin1String);\n\t         */\n\t        parse: function (latin1Str) {\n\t            // Shortcut\n\t            var latin1StrLength = latin1Str.length;\n\n\t            // Convert\n\t            var words = [];\n\t            for (var i = 0; i < latin1StrLength; i++) {\n\t                words[i >>> 2] |= (latin1Str.charCodeAt(i) & 0xff) << (24 - (i % 4) * 8);\n\t            }\n\n\t            return new WordArray.init(words, latin1StrLength);\n\t        }\n\t    };\n\n\t    /**\n\t     * UTF-8 encoding strategy.\n\t     */\n\t    var Utf8 = C_enc.Utf8 = {\n\t        /**\n\t         * Converts a word array to a UTF-8 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The UTF-8 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var utf8String = CryptoJS.enc.Utf8.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            try {\n\t                return decodeURIComponent(escape(Latin1.stringify(wordArray)));\n\t            } catch (e) {\n\t                throw new Error('Malformed UTF-8 data');\n\t            }\n\t        },\n\n\t        /**\n\t         * Converts a UTF-8 string to a word array.\n\t         *\n\t         * @param {string} utf8Str The UTF-8 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Utf8.parse(utf8String);\n\t         */\n\t        parse: function (utf8Str) {\n\t            return Latin1.parse(unescape(encodeURIComponent(utf8Str)));\n\t        }\n\t    };\n\n\t    /**\n\t     * Abstract buffered block algorithm template.\n\t     *\n\t     * The property blockSize must be implemented in a concrete subtype.\n\t     *\n\t     * @property {number} _minBufferSize The number of blocks that should be kept unprocessed in the buffer. Default: 0\n\t     */\n\t    var BufferedBlockAlgorithm = C_lib.BufferedBlockAlgorithm = Base.extend({\n\t        /**\n\t         * Resets this block algorithm's data buffer to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     bufferedBlockAlgorithm.reset();\n\t         */\n\t        reset: function () {\n\t            // Initial values\n\t            this._data = new WordArray.init();\n\t            this._nDataBytes = 0;\n\t        },\n\n\t        /**\n\t         * Adds new data to this block algorithm's buffer.\n\t         *\n\t         * @param {WordArray|string} data The data to append. Strings are converted to a WordArray using UTF-8.\n\t         *\n\t         * @example\n\t         *\n\t         *     bufferedBlockAlgorithm._append('data');\n\t         *     bufferedBlockAlgorithm._append(wordArray);\n\t         */\n\t        _append: function (data) {\n\t            // Convert string to WordArray, else assume WordArray already\n\t            if (typeof data == 'string') {\n\t                data = Utf8.parse(data);\n\t            }\n\n\t            // Append\n\t            this._data.concat(data);\n\t            this._nDataBytes += data.sigBytes;\n\t        },\n\n\t        /**\n\t         * Processes available data blocks.\n\t         *\n\t         * This method invokes _doProcessBlock(offset), which must be implemented by a concrete subtype.\n\t         *\n\t         * @param {boolean} doFlush Whether all blocks and partial blocks should be processed.\n\t         *\n\t         * @return {WordArray} The processed data.\n\t         *\n\t         * @example\n\t         *\n\t         *     var processedData = bufferedBlockAlgorithm._process();\n\t         *     var processedData = bufferedBlockAlgorithm._process(!!'flush');\n\t         */\n\t        _process: function (doFlush) {\n\t            var processedWords;\n\n\t            // Shortcuts\n\t            var data = this._data;\n\t            var dataWords = data.words;\n\t            var dataSigBytes = data.sigBytes;\n\t            var blockSize = this.blockSize;\n\t            var blockSizeBytes = blockSize * 4;\n\n\t            // Count blocks ready\n\t            var nBlocksReady = dataSigBytes / blockSizeBytes;\n\t            if (doFlush) {\n\t                // Round up to include partial blocks\n\t                nBlocksReady = Math.ceil(nBlocksReady);\n\t            } else {\n\t                // Round down to include only full blocks,\n\t                // less the number of blocks that must remain in the buffer\n\t                nBlocksReady = Math.max((nBlocksReady | 0) - this._minBufferSize, 0);\n\t            }\n\n\t            // Count words ready\n\t            var nWordsReady = nBlocksReady * blockSize;\n\n\t            // Count bytes ready\n\t            var nBytesReady = Math.min(nWordsReady * 4, dataSigBytes);\n\n\t            // Process blocks\n\t            if (nWordsReady) {\n\t                for (var offset = 0; offset < nWordsReady; offset += blockSize) {\n\t                    // Perform concrete-algorithm logic\n\t                    this._doProcessBlock(dataWords, offset);\n\t                }\n\n\t                // Remove processed words\n\t                processedWords = dataWords.splice(0, nWordsReady);\n\t                data.sigBytes -= nBytesReady;\n\t            }\n\n\t            // Return processed words\n\t            return new WordArray.init(processedWords, nBytesReady);\n\t        },\n\n\t        /**\n\t         * Creates a copy of this object.\n\t         *\n\t         * @return {Object} The clone.\n\t         *\n\t         * @example\n\t         *\n\t         *     var clone = bufferedBlockAlgorithm.clone();\n\t         */\n\t        clone: function () {\n\t            var clone = Base.clone.call(this);\n\t            clone._data = this._data.clone();\n\n\t            return clone;\n\t        },\n\n\t        _minBufferSize: 0\n\t    });\n\n\t    /**\n\t     * Abstract hasher template.\n\t     *\n\t     * @property {number} blockSize The number of 32-bit words this hasher operates on. Default: 16 (512 bits)\n\t     */\n\t    var Hasher = C_lib.Hasher = BufferedBlockAlgorithm.extend({\n\t        /**\n\t         * Configuration options.\n\t         */\n\t        cfg: Base.extend(),\n\n\t        /**\n\t         * Initializes a newly created hasher.\n\t         *\n\t         * @param {Object} cfg (Optional) The configuration options to use for this hash computation.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hasher = CryptoJS.algo.SHA256.create();\n\t         */\n\t        init: function (cfg) {\n\t            // Apply config defaults\n\t            this.cfg = this.cfg.extend(cfg);\n\n\t            // Set initial values\n\t            this.reset();\n\t        },\n\n\t        /**\n\t         * Resets this hasher to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     hasher.reset();\n\t         */\n\t        reset: function () {\n\t            // Reset data buffer\n\t            BufferedBlockAlgorithm.reset.call(this);\n\n\t            // Perform concrete-hasher logic\n\t            this._doReset();\n\t        },\n\n\t        /**\n\t         * Updates this hasher with a message.\n\t         *\n\t         * @param {WordArray|string} messageUpdate The message to append.\n\t         *\n\t         * @return {Hasher} This hasher.\n\t         *\n\t         * @example\n\t         *\n\t         *     hasher.update('message');\n\t         *     hasher.update(wordArray);\n\t         */\n\t        update: function (messageUpdate) {\n\t            // Append\n\t            this._append(messageUpdate);\n\n\t            // Update the hash\n\t            this._process();\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Finalizes the hash computation.\n\t         * Note that the finalize operation is effectively a destructive, read-once operation.\n\t         *\n\t         * @param {WordArray|string} messageUpdate (Optional) A final message update.\n\t         *\n\t         * @return {WordArray} The hash.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hash = hasher.finalize();\n\t         *     var hash = hasher.finalize('message');\n\t         *     var hash = hasher.finalize(wordArray);\n\t         */\n\t        finalize: function (messageUpdate) {\n\t            // Final message update\n\t            if (messageUpdate) {\n\t                this._append(messageUpdate);\n\t            }\n\n\t            // Perform concrete-hasher logic\n\t            var hash = this._doFinalize();\n\n\t            return hash;\n\t        },\n\n\t        blockSize: 512/32,\n\n\t        /**\n\t         * Creates a shortcut function to a hasher's object interface.\n\t         *\n\t         * @param {Hasher} hasher The hasher to create a helper for.\n\t         *\n\t         * @return {Function} The shortcut function.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var SHA256 = CryptoJS.lib.Hasher._createHelper(CryptoJS.algo.SHA256);\n\t         */\n\t        _createHelper: function (hasher) {\n\t            return function (message, cfg) {\n\t                return new hasher.init(cfg).finalize(message);\n\t            };\n\t        },\n\n\t        /**\n\t         * Creates a shortcut function to the HMAC's object interface.\n\t         *\n\t         * @param {Hasher} hasher The hasher to use in this HMAC helper.\n\t         *\n\t         * @return {Function} The shortcut function.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var HmacSHA256 = CryptoJS.lib.Hasher._createHmacHelper(CryptoJS.algo.SHA256);\n\t         */\n\t        _createHmacHelper: function (hasher) {\n\t            return function (message, key) {\n\t                return new C_algo.HMAC.init(hasher, key).finalize(message);\n\t            };\n\t        }\n\t    });\n\n\t    /**\n\t     * Algorithm namespace.\n\t     */\n\t    var C_algo = C.algo = {};\n\n\t    return C;\n\t}(Math));\n\n\n\treturn CryptoJS;\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\t    var C_enc = C.enc;\n\n\t    /**\n\t     * Base64 encoding strategy.\n\t     */\n\t    var Base64 = C_enc.Base64 = {\n\t        /**\n\t         * Converts a word array to a Base64 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The Base64 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var base64String = CryptoJS.enc.Base64.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\t            var map = this._map;\n\n\t            // Clamp excess bits\n\t            wordArray.clamp();\n\n\t            // Convert\n\t            var base64Chars = [];\n\t            for (var i = 0; i < sigBytes; i += 3) {\n\t                var byte1 = (words[i >>> 2]       >>> (24 - (i % 4) * 8))       & 0xff;\n\t                var byte2 = (words[(i + 1) >>> 2] >>> (24 - ((i + 1) % 4) * 8)) & 0xff;\n\t                var byte3 = (words[(i + 2) >>> 2] >>> (24 - ((i + 2) % 4) * 8)) & 0xff;\n\n\t                var triplet = (byte1 << 16) | (byte2 << 8) | byte3;\n\n\t                for (var j = 0; (j < 4) && (i + j * 0.75 < sigBytes); j++) {\n\t                    base64Chars.push(map.charAt((triplet >>> (6 * (3 - j))) & 0x3f));\n\t                }\n\t            }\n\n\t            // Add padding\n\t            var paddingChar = map.charAt(64);\n\t            if (paddingChar) {\n\t                while (base64Chars.length % 4) {\n\t                    base64Chars.push(paddingChar);\n\t                }\n\t            }\n\n\t            return base64Chars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a Base64 string to a word array.\n\t         *\n\t         * @param {string} base64Str The Base64 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Base64.parse(base64String);\n\t         */\n\t        parse: function (base64Str) {\n\t            // Shortcuts\n\t            var base64StrLength = base64Str.length;\n\t            var map = this._map;\n\t            var reverseMap = this._reverseMap;\n\n\t            if (!reverseMap) {\n\t                    reverseMap = this._reverseMap = [];\n\t                    for (var j = 0; j < map.length; j++) {\n\t                        reverseMap[map.charCodeAt(j)] = j;\n\t                    }\n\t            }\n\n\t            // Ignore padding\n\t            var paddingChar = map.charAt(64);\n\t            if (paddingChar) {\n\t                var paddingIndex = base64Str.indexOf(paddingChar);\n\t                if (paddingIndex !== -1) {\n\t                    base64StrLength = paddingIndex;\n\t                }\n\t            }\n\n\t            // Convert\n\t            return parseLoop(base64Str, base64StrLength, reverseMap);\n\n\t        },\n\n\t        _map: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='\n\t    };\n\n\t    function parseLoop(base64Str, base64StrLength, reverseMap) {\n\t      var words = [];\n\t      var nBytes = 0;\n\t      for (var i = 0; i < base64StrLength; i++) {\n\t          if (i % 4) {\n\t              var bits1 = reverseMap[base64Str.charCodeAt(i - 1)] << ((i % 4) * 2);\n\t              var bits2 = reverseMap[base64Str.charCodeAt(i)] >>> (6 - (i % 4) * 2);\n\t              var bitsCombined = bits1 | bits2;\n\t              words[nBytes >>> 2] |= bitsCombined << (24 - (nBytes % 4) * 8);\n\t              nBytes++;\n\t          }\n\t      }\n\t      return WordArray.create(words, nBytes);\n\t    }\n\t}());\n\n\n\treturn CryptoJS.enc.Base64;\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\treturn CryptoJS.enc.Utf8;\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function (Math) {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\t    var Hasher = C_lib.Hasher;\n\t    var C_algo = C.algo;\n\n\t    // Initialization and round constants tables\n\t    var H = [];\n\t    var K = [];\n\n\t    // Compute constants\n\t    (function () {\n\t        function isPrime(n) {\n\t            var sqrtN = Math.sqrt(n);\n\t            for (var factor = 2; factor <= sqrtN; factor++) {\n\t                if (!(n % factor)) {\n\t                    return false;\n\t                }\n\t            }\n\n\t            return true;\n\t        }\n\n\t        function getFractionalBits(n) {\n\t            return ((n - (n | 0)) * 0x100000000) | 0;\n\t        }\n\n\t        var n = 2;\n\t        var nPrime = 0;\n\t        while (nPrime < 64) {\n\t            if (isPrime(n)) {\n\t                if (nPrime < 8) {\n\t                    H[nPrime] = getFractionalBits(Math.pow(n, 1 / 2));\n\t                }\n\t                K[nPrime] = getFractionalBits(Math.pow(n, 1 / 3));\n\n\t                nPrime++;\n\t            }\n\n\t            n++;\n\t        }\n\t    }());\n\n\t    // Reusable object\n\t    var W = [];\n\n\t    /**\n\t     * SHA-256 hash algorithm.\n\t     */\n\t    var SHA256 = C_algo.SHA256 = Hasher.extend({\n\t        _doReset: function () {\n\t            this._hash = new WordArray.init(H.slice(0));\n\t        },\n\n\t        _doProcessBlock: function (M, offset) {\n\t            // Shortcut\n\t            var H = this._hash.words;\n\n\t            // Working variables\n\t            var a = H[0];\n\t            var b = H[1];\n\t            var c = H[2];\n\t            var d = H[3];\n\t            var e = H[4];\n\t            var f = H[5];\n\t            var g = H[6];\n\t            var h = H[7];\n\n\t            // Computation\n\t            for (var i = 0; i < 64; i++) {\n\t                if (i < 16) {\n\t                    W[i] = M[offset + i] | 0;\n\t                } else {\n\t                    var gamma0x = W[i - 15];\n\t                    var gamma0  = ((gamma0x << 25) | (gamma0x >>> 7))  ^\n\t                                  ((gamma0x << 14) | (gamma0x >>> 18)) ^\n\t                                   (gamma0x >>> 3);\n\n\t                    var gamma1x = W[i - 2];\n\t                    var gamma1  = ((gamma1x << 15) | (gamma1x >>> 17)) ^\n\t                                  ((gamma1x << 13) | (gamma1x >>> 19)) ^\n\t                                   (gamma1x >>> 10);\n\n\t                    W[i] = gamma0 + W[i - 7] + gamma1 + W[i - 16];\n\t                }\n\n\t                var ch  = (e & f) ^ (~e & g);\n\t                var maj = (a & b) ^ (a & c) ^ (b & c);\n\n\t                var sigma0 = ((a << 30) | (a >>> 2)) ^ ((a << 19) | (a >>> 13)) ^ ((a << 10) | (a >>> 22));\n\t                var sigma1 = ((e << 26) | (e >>> 6)) ^ ((e << 21) | (e >>> 11)) ^ ((e << 7)  | (e >>> 25));\n\n\t                var t1 = h + sigma1 + ch + K[i] + W[i];\n\t                var t2 = sigma0 + maj;\n\n\t                h = g;\n\t                g = f;\n\t                f = e;\n\t                e = (d + t1) | 0;\n\t                d = c;\n\t                c = b;\n\t                b = a;\n\t                a = (t1 + t2) | 0;\n\t            }\n\n\t            // Intermediate hash value\n\t            H[0] = (H[0] + a) | 0;\n\t            H[1] = (H[1] + b) | 0;\n\t            H[2] = (H[2] + c) | 0;\n\t            H[3] = (H[3] + d) | 0;\n\t            H[4] = (H[4] + e) | 0;\n\t            H[5] = (H[5] + f) | 0;\n\t            H[6] = (H[6] + g) | 0;\n\t            H[7] = (H[7] + h) | 0;\n\t        },\n\n\t        _doFinalize: function () {\n\t            // Shortcuts\n\t            var data = this._data;\n\t            var dataWords = data.words;\n\n\t            var nBitsTotal = this._nDataBytes * 8;\n\t            var nBitsLeft = data.sigBytes * 8;\n\n\t            // Add padding\n\t            dataWords[nBitsLeft >>> 5] |= 0x80 << (24 - nBitsLeft % 32);\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 14] = Math.floor(nBitsTotal / 0x100000000);\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 15] = nBitsTotal;\n\t            data.sigBytes = dataWords.length * 4;\n\n\t            // Hash final blocks\n\t            this._process();\n\n\t            // Return final computed hash\n\t            return this._hash;\n\t        },\n\n\t        clone: function () {\n\t            var clone = Hasher.clone.call(this);\n\t            clone._hash = this._hash.clone();\n\n\t            return clone;\n\t        }\n\t    });\n\n\t    /**\n\t     * Shortcut function to the hasher's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     *\n\t     * @return {WordArray} The hash.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hash = CryptoJS.SHA256('message');\n\t     *     var hash = CryptoJS.SHA256(wordArray);\n\t     */\n\t    C.SHA256 = Hasher._createHelper(SHA256);\n\n\t    /**\n\t     * Shortcut function to the HMAC's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     * @param {WordArray|string} key The secret key.\n\t     *\n\t     * @return {WordArray} The HMAC.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hmac = CryptoJS.HmacSHA256(message, key);\n\t     */\n\t    C.HmacSHA256 = Hasher._createHmacHelper(SHA256);\n\t}(Math));\n\n\n\treturn CryptoJS.SHA256;\n\n}));","const resolveDirectory = require(\"../public-path\").resolveDirectory;\n\nexports.autoPublicPath = function autoPublicPath(rootDirLevel) {\n  if (!rootDirLevel) {\n    rootDirLevel = 1;\n  }\n\n  if (typeof __webpack_public_path__ !== \"undefined\") {\n    if (typeof __system_context__ === \"undefined\") {\n      throw Error(\n        \"systemjs-webpack-interop requires webpack@>=5.0.0-beta.15 and output.libraryTarget set to 'system'\"\n      );\n    }\n\n    if (!__system_context__.meta || !__system_context__.meta.url) {\n      console.error(\"__system_context__\", __system_context__);\n      throw Error(\n        \"systemjs-webpack-interop was provided an unknown SystemJS context. Expected context.meta.url, but none was provided\"\n      );\n    }\n\n    __webpack_public_path__ = resolveDirectory(\n      __system_context__.meta.url,\n      rootDirLevel\n    );\n  }\n};\n","exports.setPublicPath = function setPublicPath(\n  systemjsModuleName,\n  rootDirectoryLevel\n) {\n  if (!rootDirectoryLevel) {\n    rootDirectoryLevel = 1;\n  }\n  if (\n    typeof systemjsModuleName !== \"string\" ||\n    systemjsModuleName.trim().length === 0\n  ) {\n    throw Error(\n      \"systemjs-webpack-interop: setPublicPath(systemjsModuleName) must be called with a non-empty string 'systemjsModuleName'\"\n    );\n  }\n\n  if (\n    typeof rootDirectoryLevel !== \"number\" ||\n    rootDirectoryLevel <= 0 ||\n    isNaN(rootDirectoryLevel) ||\n    !isInteger(rootDirectoryLevel)\n  ) {\n    throw Error(\n      \"systemjs-webpack-interop: setPublicPath(systemjsModuleName, rootDirectoryLevel) must be called with a positive integer 'rootDirectoryLevel'\"\n    );\n  }\n\n  var moduleUrl;\n  try {\n    moduleUrl = window.System.resolve(systemjsModuleName);\n    if (!moduleUrl) {\n      throw Error();\n    }\n  } catch (err) {\n    throw Error(\n      \"systemjs-webpack-interop: There is no such module '\" +\n        systemjsModuleName +\n        \"' in the SystemJS registry. Did you misspell the name of your module?\"\n    );\n  }\n\n  __webpack_public_path__ = resolveDirectory(moduleUrl, rootDirectoryLevel);\n};\n\nfunction resolveDirectory(urlString, rootDirectoryLevel) {\n  // Our friend IE11 doesn't support new URL()\n  // https://github.com/single-spa/single-spa/issues/612\n  // https://gist.github.com/jlong/2428561\n\n  var a = document.createElement(\"a\");\n  a.href = urlString;\n\n  var pathname = a.pathname[0] === \"/\" ? a.pathname : \"/\" + a.pathname;\n  var numDirsProcessed = 0,\n    index = pathname.length;\n  while (numDirsProcessed !== rootDirectoryLevel && index >= 0) {\n    var char = pathname[--index];\n    if (char === \"/\") {\n      numDirsProcessed++;\n    }\n  }\n\n  if (numDirsProcessed !== rootDirectoryLevel) {\n    throw Error(\n      \"systemjs-webpack-interop: rootDirectoryLevel (\" +\n        rootDirectoryLevel +\n        \") is greater than the number of directories (\" +\n        numDirsProcessed +\n        \") in the URL path \" +\n        urlString\n    );\n  }\n\n  var finalPath = pathname.slice(0, index + 1);\n\n  return a.protocol + \"//\" + a.host + finalPath;\n}\n\nexports.resolveDirectory = resolveDirectory;\n\n// borrowed from https://github.com/parshap/js-is-integer/blob/master/index.js\nvar isInteger =\n  Number.isInteger ||\n  function isInteger(val) {\n    return typeof val === \"number\" && isFinite(val) && Math.floor(val) === val;\n  };\n","module.exports = __WEBPACK_EXTERNAL_MODULE__645__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__webpack_require__.y = __system_context__;","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"\";","const autoPublicPath = require(\"./auto-public-path\").autoPublicPath;\n\nautoPublicPath(1);\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}","function e(e){this.message=e}e.prototype=new Error,e.prototype.name=\"InvalidCharacterError\";var r=\"undefined\"!=typeof window&&window.atob&&window.atob.bind(window)||function(r){var t=String(r).replace(/=+$/,\"\");if(t.length%4==1)throw new e(\"'atob' failed: The string to be decoded is not correctly encoded.\");for(var n,o,a=0,i=0,c=\"\";o=t.charAt(i++);~o&&(n=a%4?64*n+o:o,a++%4)?c+=String.fromCharCode(255&n>>(-2*a&6)):0)o=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\".indexOf(o);return c};function t(e){var t=e.replace(/-/g,\"+\").replace(/_/g,\"/\");switch(t.length%4){case 0:break;case 2:t+=\"==\";break;case 3:t+=\"=\";break;default:throw\"Illegal base64url string!\"}try{return function(e){return decodeURIComponent(r(e).replace(/(.)/g,(function(e,r){var t=r.charCodeAt(0).toString(16).toUpperCase();return t.length<2&&(t=\"0\"+t),\"%\"+t})))}(t)}catch(e){return r(t)}}function n(e){this.message=e}function o(e,r){if(\"string\"!=typeof e)throw new n(\"Invalid token specified\");var o=!0===(r=r||{}).header?0:1;try{return JSON.parse(t(e.split(\".\")[o]))}catch(e){throw new n(\"Invalid token specified: \"+e.message)}}n.prototype=new Error,n.prototype.name=\"InvalidTokenError\";export default o;export{n as InvalidTokenError};\n//# sourceMappingURL=jwt-decode.esm.js.map\n","// src/utils/CryptoUtils.ts\nimport CryptoJS from \"crypto-js/core.js\";\nimport sha256 from \"crypto-js/sha256.js\";\nimport Base64 from \"crypto-js/enc-base64.js\";\nimport Utf8 from \"crypto-js/enc-utf8.js\";\n\n// src/utils/Logger.ts\nvar nopLogger = {\n  debug: () => void 0,\n  info: () => void 0,\n  warn: () => void 0,\n  error: () => void 0\n};\nvar level;\nvar logger;\nvar Log = /* @__PURE__ */ ((Log2) => {\n  Log2[Log2[\"NONE\"] = 0] = \"NONE\";\n  Log2[Log2[\"ERROR\"] = 1] = \"ERROR\";\n  Log2[Log2[\"WARN\"] = 2] = \"WARN\";\n  Log2[Log2[\"INFO\"] = 3] = \"INFO\";\n  Log2[Log2[\"DEBUG\"] = 4] = \"DEBUG\";\n  return Log2;\n})(Log || {});\n((Log2) => {\n  function reset() {\n    level = 3 /* INFO */;\n    logger = nopLogger;\n  }\n  Log2.reset = reset;\n  function setLevel(value) {\n    if (!(0 /* NONE */ <= value && value <= 4 /* DEBUG */)) {\n      throw new Error(\"Invalid log level\");\n    }\n    level = value;\n  }\n  Log2.setLevel = setLevel;\n  function setLogger(value) {\n    logger = value;\n  }\n  Log2.setLogger = setLogger;\n})(Log || (Log = {}));\nvar Logger = class {\n  constructor(_name) {\n    this._name = _name;\n  }\n  debug(...args) {\n    if (level >= 4 /* DEBUG */) {\n      logger.debug(Logger._format(this._name, this._method), ...args);\n    }\n  }\n  info(...args) {\n    if (level >= 3 /* INFO */) {\n      logger.info(Logger._format(this._name, this._method), ...args);\n    }\n  }\n  warn(...args) {\n    if (level >= 2 /* WARN */) {\n      logger.warn(Logger._format(this._name, this._method), ...args);\n    }\n  }\n  error(...args) {\n    if (level >= 1 /* ERROR */) {\n      logger.error(Logger._format(this._name, this._method), ...args);\n    }\n  }\n  throw(err) {\n    this.error(err);\n    throw err;\n  }\n  create(method) {\n    const methodLogger = Object.create(this);\n    methodLogger._method = method;\n    methodLogger.debug(\"begin\");\n    return methodLogger;\n  }\n  static createStatic(name, staticMethod) {\n    const staticLogger = new Logger(`${name}.${staticMethod}`);\n    staticLogger.debug(\"begin\");\n    return staticLogger;\n  }\n  static _format(name, method) {\n    const prefix = `[${name}]`;\n    return method ? `${prefix} ${method}:` : prefix;\n  }\n  // helpers for static class methods\n  static debug(name, ...args) {\n    if (level >= 4 /* DEBUG */) {\n      logger.debug(Logger._format(name), ...args);\n    }\n  }\n  static info(name, ...args) {\n    if (level >= 3 /* INFO */) {\n      logger.info(Logger._format(name), ...args);\n    }\n  }\n  static warn(name, ...args) {\n    if (level >= 2 /* WARN */) {\n      logger.warn(Logger._format(name), ...args);\n    }\n  }\n  static error(name, ...args) {\n    if (level >= 1 /* ERROR */) {\n      logger.error(Logger._format(name), ...args);\n    }\n  }\n};\nLog.reset();\n\n// src/utils/CryptoUtils.ts\nvar UUID_V4_TEMPLATE = \"10000000-1000-4000-8000-100000000000\";\nvar CryptoUtils = class {\n  static _randomWord() {\n    return CryptoJS.lib.WordArray.random(1).words[0];\n  }\n  /**\n   * Generates RFC4122 version 4 guid\n   */\n  static generateUUIDv4() {\n    const uuid = UUID_V4_TEMPLATE.replace(\n      /[018]/g,\n      (c) => (+c ^ CryptoUtils._randomWord() & 15 >> +c / 4).toString(16)\n    );\n    return uuid.replace(/-/g, \"\");\n  }\n  /**\n   * PKCE: Generate a code verifier\n   */\n  static generateCodeVerifier() {\n    return CryptoUtils.generateUUIDv4() + CryptoUtils.generateUUIDv4() + CryptoUtils.generateUUIDv4();\n  }\n  /**\n   * PKCE: Generate a code challenge\n   */\n  static generateCodeChallenge(code_verifier) {\n    try {\n      const hashed = sha256(code_verifier);\n      return Base64.stringify(hashed).replace(/\\+/g, \"-\").replace(/\\//g, \"_\").replace(/=+$/, \"\");\n    } catch (err) {\n      Logger.error(\"CryptoUtils.generateCodeChallenge\", err);\n      throw err;\n    }\n  }\n  /**\n   * Generates a base64-encoded string for a basic auth header\n   */\n  static generateBasicAuth(client_id, client_secret) {\n    const basicAuth = Utf8.parse([client_id, client_secret].join(\":\"));\n    return Base64.stringify(basicAuth);\n  }\n};\n\n// src/utils/Event.ts\nvar Event = class {\n  constructor(_name) {\n    this._name = _name;\n    this._logger = new Logger(`Event('${this._name}')`);\n    this._callbacks = [];\n  }\n  addHandler(cb) {\n    this._callbacks.push(cb);\n    return () => this.removeHandler(cb);\n  }\n  removeHandler(cb) {\n    const idx = this._callbacks.lastIndexOf(cb);\n    if (idx >= 0) {\n      this._callbacks.splice(idx, 1);\n    }\n  }\n  raise(...ev) {\n    this._logger.debug(\"raise:\", ...ev);\n    for (const cb of this._callbacks) {\n      void cb(...ev);\n    }\n  }\n};\n\n// src/utils/JwtUtils.ts\nimport jwt_decode from \"jwt-decode\";\nvar JwtUtils = class {\n  // IMPORTANT: doesn't validate the token\n  static decode(token) {\n    try {\n      return jwt_decode(token);\n    } catch (err) {\n      Logger.error(\"JwtUtils.decode\", err);\n      throw err;\n    }\n  }\n};\n\n// src/utils/PopupUtils.ts\nvar PopupUtils = class {\n  /**\n   * Populates a map of window features with a placement centered in front of\n   * the current window. If no explicit width is given, a default value is\n   * binned into [800, 720, 600, 480, 360] based on the current window's width.\n   */\n  static center({ ...features }) {\n    var _a, _b, _c;\n    if (features.width == null)\n      features.width = (_a = [800, 720, 600, 480].find((width) => width <= window.outerWidth / 1.618)) != null ? _a : 360;\n    (_b = features.left) != null ? _b : features.left = Math.max(0, Math.round(window.screenX + (window.outerWidth - features.width) / 2));\n    if (features.height != null)\n      (_c = features.top) != null ? _c : features.top = Math.max(0, Math.round(window.screenY + (window.outerHeight - features.height) / 2));\n    return features;\n  }\n  static serialize(features) {\n    return Object.entries(features).filter(([, value]) => value != null).map(([key, value]) => `${key}=${typeof value !== \"boolean\" ? value : value ? \"yes\" : \"no\"}`).join(\",\");\n  }\n};\n\n// src/utils/Timer.ts\nvar Timer = class extends Event {\n  constructor() {\n    super(...arguments);\n    this._logger = new Logger(`Timer('${this._name}')`);\n    this._timerHandle = null;\n    this._expiration = 0;\n    this._callback = () => {\n      const diff = this._expiration - Timer.getEpochTime();\n      this._logger.debug(\"timer completes in\", diff);\n      if (this._expiration <= Timer.getEpochTime()) {\n        this.cancel();\n        super.raise();\n      }\n    };\n  }\n  // get the time\n  static getEpochTime() {\n    return Math.floor(Date.now() / 1e3);\n  }\n  init(durationInSeconds) {\n    const logger2 = this._logger.create(\"init\");\n    durationInSeconds = Math.max(Math.floor(durationInSeconds), 1);\n    const expiration = Timer.getEpochTime() + durationInSeconds;\n    if (this.expiration === expiration && this._timerHandle) {\n      logger2.debug(\"skipping since already initialized for expiration at\", this.expiration);\n      return;\n    }\n    this.cancel();\n    logger2.debug(\"using duration\", durationInSeconds);\n    this._expiration = expiration;\n    const timerDurationInSeconds = Math.min(durationInSeconds, 5);\n    this._timerHandle = setInterval(this._callback, timerDurationInSeconds * 1e3);\n  }\n  get expiration() {\n    return this._expiration;\n  }\n  cancel() {\n    this._logger.create(\"cancel\");\n    if (this._timerHandle) {\n      clearInterval(this._timerHandle);\n      this._timerHandle = null;\n    }\n  }\n};\n\n// src/utils/UrlUtils.ts\nvar UrlUtils = class {\n  static readParams(url, responseMode = \"query\") {\n    if (!url)\n      throw new TypeError(\"Invalid URL\");\n    const parsedUrl = new URL(url, \"http://127.0.0.1\");\n    const params = parsedUrl[responseMode === \"fragment\" ? \"hash\" : \"search\"];\n    return new URLSearchParams(params.slice(1));\n  }\n};\n\n// src/errors/ErrorResponse.ts\nvar ErrorResponse = class extends Error {\n  constructor(args, form) {\n    var _a, _b, _c;\n    super(args.error_description || args.error || \"\");\n    this.form = form;\n    /** Marker to detect class: \"ErrorResponse\" */\n    this.name = \"ErrorResponse\";\n    if (!args.error) {\n      Logger.error(\"ErrorResponse\", \"No error passed\");\n      throw new Error(\"No error passed\");\n    }\n    this.error = args.error;\n    this.error_description = (_a = args.error_description) != null ? _a : null;\n    this.error_uri = (_b = args.error_uri) != null ? _b : null;\n    this.state = args.userState;\n    this.session_state = (_c = args.session_state) != null ? _c : null;\n  }\n};\n\n// src/errors/ErrorTimeout.ts\nvar ErrorTimeout = class extends Error {\n  constructor(message) {\n    super(message);\n    /** Marker to detect class: \"ErrorTimeout\" */\n    this.name = \"ErrorTimeout\";\n  }\n};\n\n// src/AccessTokenEvents.ts\nvar AccessTokenEvents = class {\n  constructor(args) {\n    this._logger = new Logger(\"AccessTokenEvents\");\n    this._expiringTimer = new Timer(\"Access token expiring\");\n    this._expiredTimer = new Timer(\"Access token expired\");\n    this._expiringNotificationTimeInSeconds = args.expiringNotificationTimeInSeconds;\n  }\n  load(container) {\n    const logger2 = this._logger.create(\"load\");\n    if (container.access_token && container.expires_in !== void 0) {\n      const duration = container.expires_in;\n      logger2.debug(\"access token present, remaining duration:\", duration);\n      if (duration > 0) {\n        let expiring = duration - this._expiringNotificationTimeInSeconds;\n        if (expiring <= 0) {\n          expiring = 1;\n        }\n        logger2.debug(\"registering expiring timer, raising in\", expiring, \"seconds\");\n        this._expiringTimer.init(expiring);\n      } else {\n        logger2.debug(\"canceling existing expiring timer because we're past expiration.\");\n        this._expiringTimer.cancel();\n      }\n      const expired = duration + 1;\n      logger2.debug(\"registering expired timer, raising in\", expired, \"seconds\");\n      this._expiredTimer.init(expired);\n    } else {\n      this._expiringTimer.cancel();\n      this._expiredTimer.cancel();\n    }\n  }\n  unload() {\n    this._logger.debug(\"unload: canceling existing access token timers\");\n    this._expiringTimer.cancel();\n    this._expiredTimer.cancel();\n  }\n  /**\n   * Add callback: Raised prior to the access token expiring.\n   */\n  addAccessTokenExpiring(cb) {\n    return this._expiringTimer.addHandler(cb);\n  }\n  /**\n   * Remove callback: Raised prior to the access token expiring.\n   */\n  removeAccessTokenExpiring(cb) {\n    this._expiringTimer.removeHandler(cb);\n  }\n  /**\n   * Add callback: Raised after the access token has expired.\n   */\n  addAccessTokenExpired(cb) {\n    return this._expiredTimer.addHandler(cb);\n  }\n  /**\n   * Remove callback: Raised after the access token has expired.\n   */\n  removeAccessTokenExpired(cb) {\n    this._expiredTimer.removeHandler(cb);\n  }\n};\n\n// src/CheckSessionIFrame.ts\nvar CheckSessionIFrame = class {\n  constructor(_callback, _client_id, url, _intervalInSeconds, _stopOnError) {\n    this._callback = _callback;\n    this._client_id = _client_id;\n    this._intervalInSeconds = _intervalInSeconds;\n    this._stopOnError = _stopOnError;\n    this._logger = new Logger(\"CheckSessionIFrame\");\n    this._timer = null;\n    this._session_state = null;\n    this._message = (e) => {\n      if (e.origin === this._frame_origin && e.source === this._frame.contentWindow) {\n        if (e.data === \"error\") {\n          this._logger.error(\"error message from check session op iframe\");\n          if (this._stopOnError) {\n            this.stop();\n          }\n        } else if (e.data === \"changed\") {\n          this._logger.debug(\"changed message from check session op iframe\");\n          this.stop();\n          void this._callback();\n        } else {\n          this._logger.debug(e.data + \" message from check session op iframe\");\n        }\n      }\n    };\n    const parsedUrl = new URL(url);\n    this._frame_origin = parsedUrl.origin;\n    this._frame = window.document.createElement(\"iframe\");\n    this._frame.style.visibility = \"hidden\";\n    this._frame.style.position = \"fixed\";\n    this._frame.style.left = \"-1000px\";\n    this._frame.style.top = \"0\";\n    this._frame.width = \"0\";\n    this._frame.height = \"0\";\n    this._frame.src = parsedUrl.href;\n  }\n  load() {\n    return new Promise((resolve) => {\n      this._frame.onload = () => {\n        resolve();\n      };\n      window.document.body.appendChild(this._frame);\n      window.addEventListener(\"message\", this._message, false);\n    });\n  }\n  start(session_state) {\n    if (this._session_state === session_state) {\n      return;\n    }\n    this._logger.create(\"start\");\n    this.stop();\n    this._session_state = session_state;\n    const send = () => {\n      if (!this._frame.contentWindow || !this._session_state) {\n        return;\n      }\n      this._frame.contentWindow.postMessage(this._client_id + \" \" + this._session_state, this._frame_origin);\n    };\n    send();\n    this._timer = setInterval(send, this._intervalInSeconds * 1e3);\n  }\n  stop() {\n    this._logger.create(\"stop\");\n    this._session_state = null;\n    if (this._timer) {\n      clearInterval(this._timer);\n      this._timer = null;\n    }\n  }\n};\n\n// src/InMemoryWebStorage.ts\nvar InMemoryWebStorage = class {\n  constructor() {\n    this._logger = new Logger(\"InMemoryWebStorage\");\n    this._data = {};\n  }\n  clear() {\n    this._logger.create(\"clear\");\n    this._data = {};\n  }\n  getItem(key) {\n    this._logger.create(`getItem('${key}')`);\n    return this._data[key];\n  }\n  setItem(key, value) {\n    this._logger.create(`setItem('${key}')`);\n    this._data[key] = value;\n  }\n  removeItem(key) {\n    this._logger.create(`removeItem('${key}')`);\n    delete this._data[key];\n  }\n  get length() {\n    return Object.getOwnPropertyNames(this._data).length;\n  }\n  key(index) {\n    return Object.getOwnPropertyNames(this._data)[index];\n  }\n};\n\n// src/JsonService.ts\nvar JsonService = class {\n  constructor(additionalContentTypes = [], _jwtHandler = null, _extraHeaders = {}) {\n    this._jwtHandler = _jwtHandler;\n    this._extraHeaders = _extraHeaders;\n    this._logger = new Logger(\"JsonService\");\n    this._contentTypes = [];\n    this._contentTypes.push(...additionalContentTypes, \"application/json\");\n    if (_jwtHandler) {\n      this._contentTypes.push(\"application/jwt\");\n    }\n  }\n  async fetchWithTimeout(input, init = {}) {\n    const { timeoutInSeconds, ...initFetch } = init;\n    if (!timeoutInSeconds) {\n      return await fetch(input, initFetch);\n    }\n    const controller = new AbortController();\n    const timeoutId = setTimeout(() => controller.abort(), timeoutInSeconds * 1e3);\n    try {\n      const response = await fetch(input, {\n        ...init,\n        signal: controller.signal\n      });\n      return response;\n    } catch (err) {\n      if (err instanceof DOMException && err.name === \"AbortError\") {\n        throw new ErrorTimeout(\"Network timed out\");\n      }\n      throw err;\n    } finally {\n      clearTimeout(timeoutId);\n    }\n  }\n  async getJson(url, {\n    token,\n    credentials\n  } = {}) {\n    const logger2 = this._logger.create(\"getJson\");\n    const headers = {\n      \"Accept\": this._contentTypes.join(\", \")\n    };\n    if (token) {\n      logger2.debug(\"token passed, setting Authorization header\");\n      headers[\"Authorization\"] = \"Bearer \" + token;\n    }\n    this.appendExtraHeaders(headers);\n    let response;\n    try {\n      logger2.debug(\"url:\", url);\n      response = await this.fetchWithTimeout(url, { method: \"GET\", headers, credentials });\n    } catch (err) {\n      logger2.error(\"Network Error\");\n      throw err;\n    }\n    logger2.debug(\"HTTP response received, status\", response.status);\n    const contentType = response.headers.get(\"Content-Type\");\n    if (contentType && !this._contentTypes.find((item) => contentType.startsWith(item))) {\n      logger2.throw(new Error(`Invalid response Content-Type: ${contentType != null ? contentType : \"undefined\"}, from URL: ${url}`));\n    }\n    if (response.ok && this._jwtHandler && (contentType == null ? void 0 : contentType.startsWith(\"application/jwt\"))) {\n      return await this._jwtHandler(await response.text());\n    }\n    let json;\n    try {\n      json = await response.json();\n    } catch (err) {\n      logger2.error(\"Error parsing JSON response\", err);\n      if (response.ok)\n        throw err;\n      throw new Error(`${response.statusText} (${response.status})`);\n    }\n    if (!response.ok) {\n      logger2.error(\"Error from server:\", json);\n      if (json.error) {\n        throw new ErrorResponse(json);\n      }\n      throw new Error(`${response.statusText} (${response.status}): ${JSON.stringify(json)}`);\n    }\n    return json;\n  }\n  async postForm(url, {\n    body,\n    basicAuth,\n    timeoutInSeconds,\n    initCredentials\n  }) {\n    const logger2 = this._logger.create(\"postForm\");\n    const headers = {\n      \"Accept\": this._contentTypes.join(\", \"),\n      \"Content-Type\": \"application/x-www-form-urlencoded\"\n    };\n    if (basicAuth !== void 0) {\n      headers[\"Authorization\"] = \"Basic \" + basicAuth;\n    }\n    this.appendExtraHeaders(headers);\n    let response;\n    try {\n      logger2.debug(\"url:\", url);\n      response = await this.fetchWithTimeout(url, { method: \"POST\", headers, body, timeoutInSeconds, credentials: initCredentials });\n    } catch (err) {\n      logger2.error(\"Network error\");\n      throw err;\n    }\n    logger2.debug(\"HTTP response received, status\", response.status);\n    const contentType = response.headers.get(\"Content-Type\");\n    if (contentType && !this._contentTypes.find((item) => contentType.startsWith(item))) {\n      throw new Error(`Invalid response Content-Type: ${contentType != null ? contentType : \"undefined\"}, from URL: ${url}`);\n    }\n    const responseText = await response.text();\n    let json = {};\n    if (responseText) {\n      try {\n        json = JSON.parse(responseText);\n      } catch (err) {\n        logger2.error(\"Error parsing JSON response\", err);\n        if (response.ok)\n          throw err;\n        throw new Error(`${response.statusText} (${response.status})`);\n      }\n    }\n    if (!response.ok) {\n      logger2.error(\"Error from server:\", json);\n      if (json.error) {\n        throw new ErrorResponse(json, body);\n      }\n      throw new Error(`${response.statusText} (${response.status}): ${JSON.stringify(json)}`);\n    }\n    return json;\n  }\n  appendExtraHeaders(headers) {\n    const logger2 = this._logger.create(\"appendExtraHeaders\");\n    const customKeys = Object.keys(this._extraHeaders);\n    const protectedHeaders = [\n      \"authorization\",\n      \"accept\",\n      \"content-type\"\n    ];\n    if (customKeys.length === 0) {\n      return;\n    }\n    customKeys.forEach((headerName) => {\n      if (protectedHeaders.includes(headerName.toLocaleLowerCase())) {\n        logger2.warn(\"Protected header could not be overridden\", headerName, protectedHeaders);\n        return;\n      }\n      const content = typeof this._extraHeaders[headerName] === \"function\" ? this._extraHeaders[headerName]() : this._extraHeaders[headerName];\n      if (content && content !== \"\") {\n        headers[headerName] = content;\n      }\n    });\n  }\n};\n\n// src/MetadataService.ts\nvar MetadataService = class {\n  constructor(_settings) {\n    this._settings = _settings;\n    this._logger = new Logger(\"MetadataService\");\n    this._signingKeys = null;\n    this._metadata = null;\n    this._metadataUrl = this._settings.metadataUrl;\n    this._jsonService = new JsonService(\n      [\"application/jwk-set+json\"],\n      null,\n      this._settings.extraHeaders\n    );\n    if (this._settings.signingKeys) {\n      this._logger.debug(\"using signingKeys from settings\");\n      this._signingKeys = this._settings.signingKeys;\n    }\n    if (this._settings.metadata) {\n      this._logger.debug(\"using metadata from settings\");\n      this._metadata = this._settings.metadata;\n    }\n    if (this._settings.fetchRequestCredentials) {\n      this._logger.debug(\"using fetchRequestCredentials from settings\");\n      this._fetchRequestCredentials = this._settings.fetchRequestCredentials;\n    }\n  }\n  resetSigningKeys() {\n    this._signingKeys = null;\n  }\n  async getMetadata() {\n    const logger2 = this._logger.create(\"getMetadata\");\n    if (this._metadata) {\n      logger2.debug(\"using cached values\");\n      return this._metadata;\n    }\n    if (!this._metadataUrl) {\n      logger2.throw(new Error(\"No authority or metadataUrl configured on settings\"));\n      throw null;\n    }\n    logger2.debug(\"getting metadata from\", this._metadataUrl);\n    const metadata = await this._jsonService.getJson(this._metadataUrl, { credentials: this._fetchRequestCredentials });\n    logger2.debug(\"merging remote JSON with seed metadata\");\n    this._metadata = Object.assign({}, this._settings.metadataSeed, metadata);\n    return this._metadata;\n  }\n  getIssuer() {\n    return this._getMetadataProperty(\"issuer\");\n  }\n  getAuthorizationEndpoint() {\n    return this._getMetadataProperty(\"authorization_endpoint\");\n  }\n  getUserInfoEndpoint() {\n    return this._getMetadataProperty(\"userinfo_endpoint\");\n  }\n  getTokenEndpoint(optional = true) {\n    return this._getMetadataProperty(\"token_endpoint\", optional);\n  }\n  getCheckSessionIframe() {\n    return this._getMetadataProperty(\"check_session_iframe\", true);\n  }\n  getEndSessionEndpoint() {\n    return this._getMetadataProperty(\"end_session_endpoint\", true);\n  }\n  getRevocationEndpoint(optional = true) {\n    return this._getMetadataProperty(\"revocation_endpoint\", optional);\n  }\n  getKeysEndpoint(optional = true) {\n    return this._getMetadataProperty(\"jwks_uri\", optional);\n  }\n  async _getMetadataProperty(name, optional = false) {\n    const logger2 = this._logger.create(`_getMetadataProperty('${name}')`);\n    const metadata = await this.getMetadata();\n    logger2.debug(\"resolved\");\n    if (metadata[name] === void 0) {\n      if (optional === true) {\n        logger2.warn(\"Metadata does not contain optional property\");\n        return void 0;\n      }\n      logger2.throw(new Error(\"Metadata does not contain property \" + name));\n    }\n    return metadata[name];\n  }\n  async getSigningKeys() {\n    const logger2 = this._logger.create(\"getSigningKeys\");\n    if (this._signingKeys) {\n      logger2.debug(\"returning signingKeys from cache\");\n      return this._signingKeys;\n    }\n    const jwks_uri = await this.getKeysEndpoint(false);\n    logger2.debug(\"got jwks_uri\", jwks_uri);\n    const keySet = await this._jsonService.getJson(jwks_uri);\n    logger2.debug(\"got key set\", keySet);\n    if (!Array.isArray(keySet.keys)) {\n      logger2.throw(new Error(\"Missing keys on keyset\"));\n      throw null;\n    }\n    this._signingKeys = keySet.keys;\n    return this._signingKeys;\n  }\n};\n\n// src/WebStorageStateStore.ts\nvar WebStorageStateStore = class {\n  constructor({\n    prefix = \"oidc.\",\n    store = localStorage\n  } = {}) {\n    this._logger = new Logger(\"WebStorageStateStore\");\n    this._store = store;\n    this._prefix = prefix;\n  }\n  async set(key, value) {\n    this._logger.create(`set('${key}')`);\n    key = this._prefix + key;\n    await this._store.setItem(key, value);\n  }\n  async get(key) {\n    this._logger.create(`get('${key}')`);\n    key = this._prefix + key;\n    const item = await this._store.getItem(key);\n    return item;\n  }\n  async remove(key) {\n    this._logger.create(`remove('${key}')`);\n    key = this._prefix + key;\n    const item = await this._store.getItem(key);\n    await this._store.removeItem(key);\n    return item;\n  }\n  async getAllKeys() {\n    this._logger.create(\"getAllKeys\");\n    const len = await this._store.length;\n    const keys = [];\n    for (let index = 0; index < len; index++) {\n      const key = await this._store.key(index);\n      if (key && key.indexOf(this._prefix) === 0) {\n        keys.push(key.substr(this._prefix.length));\n      }\n    }\n    return keys;\n  }\n};\n\n// src/OidcClientSettings.ts\nvar DefaultResponseType = \"code\";\nvar DefaultScope = \"openid\";\nvar DefaultClientAuthentication = \"client_secret_post\";\nvar DefaultResponseMode = \"query\";\nvar DefaultStaleStateAgeInSeconds = 60 * 15;\nvar DefaultClockSkewInSeconds = 60 * 5;\nvar OidcClientSettingsStore = class {\n  constructor({\n    // metadata related\n    authority,\n    metadataUrl,\n    metadata,\n    signingKeys,\n    metadataSeed,\n    // client related\n    client_id,\n    client_secret,\n    response_type = DefaultResponseType,\n    scope = DefaultScope,\n    redirect_uri,\n    post_logout_redirect_uri,\n    client_authentication = DefaultClientAuthentication,\n    // optional protocol\n    prompt,\n    display,\n    max_age,\n    ui_locales,\n    acr_values,\n    resource,\n    response_mode = DefaultResponseMode,\n    // behavior flags\n    filterProtocolClaims = true,\n    loadUserInfo = false,\n    staleStateAgeInSeconds = DefaultStaleStateAgeInSeconds,\n    clockSkewInSeconds = DefaultClockSkewInSeconds,\n    userInfoJwtIssuer = \"OP\",\n    mergeClaims = false,\n    disablePKCE = false,\n    // other behavior\n    stateStore,\n    refreshTokenCredentials,\n    revokeTokenAdditionalContentTypes,\n    fetchRequestCredentials,\n    refreshTokenAllowedScope,\n    // extra\n    extraQueryParams = {},\n    extraTokenParams = {},\n    extraHeaders = {}\n  }) {\n    this.authority = authority;\n    if (metadataUrl) {\n      this.metadataUrl = metadataUrl;\n    } else {\n      this.metadataUrl = authority;\n      if (authority) {\n        if (!this.metadataUrl.endsWith(\"/\")) {\n          this.metadataUrl += \"/\";\n        }\n        this.metadataUrl += \".well-known/openid-configuration\";\n      }\n    }\n    this.metadata = metadata;\n    this.metadataSeed = metadataSeed;\n    this.signingKeys = signingKeys;\n    this.client_id = client_id;\n    this.client_secret = client_secret;\n    this.response_type = response_type;\n    this.scope = scope;\n    this.redirect_uri = redirect_uri;\n    this.post_logout_redirect_uri = post_logout_redirect_uri;\n    this.client_authentication = client_authentication;\n    this.prompt = prompt;\n    this.display = display;\n    this.max_age = max_age;\n    this.ui_locales = ui_locales;\n    this.acr_values = acr_values;\n    this.resource = resource;\n    this.response_mode = response_mode;\n    this.filterProtocolClaims = filterProtocolClaims != null ? filterProtocolClaims : true;\n    this.loadUserInfo = !!loadUserInfo;\n    this.staleStateAgeInSeconds = staleStateAgeInSeconds;\n    this.clockSkewInSeconds = clockSkewInSeconds;\n    this.userInfoJwtIssuer = userInfoJwtIssuer;\n    this.mergeClaims = !!mergeClaims;\n    this.disablePKCE = !!disablePKCE;\n    this.revokeTokenAdditionalContentTypes = revokeTokenAdditionalContentTypes;\n    if (fetchRequestCredentials && refreshTokenCredentials) {\n      console.warn(\"Both fetchRequestCredentials and refreshTokenCredentials is set. Only fetchRequestCredentials will be used.\");\n    }\n    this.fetchRequestCredentials = fetchRequestCredentials ? fetchRequestCredentials : refreshTokenCredentials ? refreshTokenCredentials : \"same-origin\";\n    if (stateStore) {\n      this.stateStore = stateStore;\n    } else {\n      const store = typeof window !== \"undefined\" ? window.localStorage : new InMemoryWebStorage();\n      this.stateStore = new WebStorageStateStore({ store });\n    }\n    this.refreshTokenAllowedScope = refreshTokenAllowedScope;\n    this.extraQueryParams = extraQueryParams;\n    this.extraTokenParams = extraTokenParams;\n    this.extraHeaders = extraHeaders;\n  }\n};\n\n// src/UserInfoService.ts\nvar UserInfoService = class {\n  constructor(_settings, _metadataService) {\n    this._settings = _settings;\n    this._metadataService = _metadataService;\n    this._logger = new Logger(\"UserInfoService\");\n    this._getClaimsFromJwt = async (responseText) => {\n      const logger2 = this._logger.create(\"_getClaimsFromJwt\");\n      try {\n        const payload = JwtUtils.decode(responseText);\n        logger2.debug(\"JWT decoding successful\");\n        return payload;\n      } catch (err) {\n        logger2.error(\"Error parsing JWT response\");\n        throw err;\n      }\n    };\n    this._jsonService = new JsonService(\n      void 0,\n      this._getClaimsFromJwt,\n      this._settings.extraHeaders\n    );\n  }\n  async getClaims(token) {\n    const logger2 = this._logger.create(\"getClaims\");\n    if (!token) {\n      this._logger.throw(new Error(\"No token passed\"));\n    }\n    const url = await this._metadataService.getUserInfoEndpoint();\n    logger2.debug(\"got userinfo url\", url);\n    const claims = await this._jsonService.getJson(url, {\n      token,\n      credentials: this._settings.fetchRequestCredentials\n    });\n    logger2.debug(\"got claims\", claims);\n    return claims;\n  }\n};\n\n// src/TokenClient.ts\nvar TokenClient = class {\n  constructor(_settings, _metadataService) {\n    this._settings = _settings;\n    this._metadataService = _metadataService;\n    this._logger = new Logger(\"TokenClient\");\n    this._jsonService = new JsonService(\n      this._settings.revokeTokenAdditionalContentTypes,\n      null,\n      this._settings.extraHeaders\n    );\n  }\n  /**\n   * Exchange code.\n   *\n   * @see https://www.rfc-editor.org/rfc/rfc6749#section-4.1.3\n   */\n  async exchangeCode({\n    grant_type = \"authorization_code\",\n    redirect_uri = this._settings.redirect_uri,\n    client_id = this._settings.client_id,\n    client_secret = this._settings.client_secret,\n    ...args\n  }) {\n    const logger2 = this._logger.create(\"exchangeCode\");\n    if (!client_id) {\n      logger2.throw(new Error(\"A client_id is required\"));\n    }\n    if (!redirect_uri) {\n      logger2.throw(new Error(\"A redirect_uri is required\"));\n    }\n    if (!args.code) {\n      logger2.throw(new Error(\"A code is required\"));\n    }\n    const params = new URLSearchParams({ grant_type, redirect_uri });\n    for (const [key, value] of Object.entries(args)) {\n      if (value != null) {\n        params.set(key, value);\n      }\n    }\n    let basicAuth;\n    switch (this._settings.client_authentication) {\n      case \"client_secret_basic\":\n        if (!client_secret) {\n          logger2.throw(new Error(\"A client_secret is required\"));\n          throw null;\n        }\n        basicAuth = CryptoUtils.generateBasicAuth(client_id, client_secret);\n        break;\n      case \"client_secret_post\":\n        params.append(\"client_id\", client_id);\n        if (client_secret) {\n          params.append(\"client_secret\", client_secret);\n        }\n        break;\n    }\n    const url = await this._metadataService.getTokenEndpoint(false);\n    logger2.debug(\"got token endpoint\");\n    const response = await this._jsonService.postForm(url, { body: params, basicAuth, initCredentials: this._settings.fetchRequestCredentials });\n    logger2.debug(\"got response\");\n    return response;\n  }\n  /**\n   * Exchange credentials.\n   *\n   * @see https://www.rfc-editor.org/rfc/rfc6749#section-4.3.2\n   */\n  async exchangeCredentials({\n    grant_type = \"password\",\n    client_id = this._settings.client_id,\n    client_secret = this._settings.client_secret,\n    scope = this._settings.scope,\n    ...args\n  }) {\n    const logger2 = this._logger.create(\"exchangeCredentials\");\n    if (!client_id) {\n      logger2.throw(new Error(\"A client_id is required\"));\n    }\n    const params = new URLSearchParams({ grant_type, scope });\n    for (const [key, value] of Object.entries(args)) {\n      if (value != null) {\n        params.set(key, value);\n      }\n    }\n    let basicAuth;\n    switch (this._settings.client_authentication) {\n      case \"client_secret_basic\":\n        if (!client_secret) {\n          logger2.throw(new Error(\"A client_secret is required\"));\n          throw null;\n        }\n        basicAuth = CryptoUtils.generateBasicAuth(client_id, client_secret);\n        break;\n      case \"client_secret_post\":\n        params.append(\"client_id\", client_id);\n        if (client_secret) {\n          params.append(\"client_secret\", client_secret);\n        }\n        break;\n    }\n    const url = await this._metadataService.getTokenEndpoint(false);\n    logger2.debug(\"got token endpoint\");\n    const response = await this._jsonService.postForm(url, { body: params, basicAuth, initCredentials: this._settings.fetchRequestCredentials });\n    logger2.debug(\"got response\");\n    return response;\n  }\n  /**\n   * Exchange a refresh token.\n   *\n   * @see https://www.rfc-editor.org/rfc/rfc6749#section-6\n   */\n  async exchangeRefreshToken({\n    grant_type = \"refresh_token\",\n    client_id = this._settings.client_id,\n    client_secret = this._settings.client_secret,\n    timeoutInSeconds,\n    ...args\n  }) {\n    const logger2 = this._logger.create(\"exchangeRefreshToken\");\n    if (!client_id) {\n      logger2.throw(new Error(\"A client_id is required\"));\n    }\n    if (!args.refresh_token) {\n      logger2.throw(new Error(\"A refresh_token is required\"));\n    }\n    const params = new URLSearchParams({ grant_type });\n    for (const [key, value] of Object.entries(args)) {\n      if (Array.isArray(value)) {\n        value.forEach((param) => params.append(key, param));\n      } else if (value != null) {\n        params.set(key, value);\n      }\n    }\n    let basicAuth;\n    switch (this._settings.client_authentication) {\n      case \"client_secret_basic\":\n        if (!client_secret) {\n          logger2.throw(new Error(\"A client_secret is required\"));\n          throw null;\n        }\n        basicAuth = CryptoUtils.generateBasicAuth(client_id, client_secret);\n        break;\n      case \"client_secret_post\":\n        params.append(\"client_id\", client_id);\n        if (client_secret) {\n          params.append(\"client_secret\", client_secret);\n        }\n        break;\n    }\n    const url = await this._metadataService.getTokenEndpoint(false);\n    logger2.debug(\"got token endpoint\");\n    const response = await this._jsonService.postForm(url, { body: params, basicAuth, timeoutInSeconds, initCredentials: this._settings.fetchRequestCredentials });\n    logger2.debug(\"got response\");\n    return response;\n  }\n  /**\n   * Revoke an access or refresh token.\n   *\n   * @see https://datatracker.ietf.org/doc/html/rfc7009#section-2.1\n   */\n  async revoke(args) {\n    var _a;\n    const logger2 = this._logger.create(\"revoke\");\n    if (!args.token) {\n      logger2.throw(new Error(\"A token is required\"));\n    }\n    const url = await this._metadataService.getRevocationEndpoint(false);\n    logger2.debug(`got revocation endpoint, revoking ${(_a = args.token_type_hint) != null ? _a : \"default token type\"}`);\n    const params = new URLSearchParams();\n    for (const [key, value] of Object.entries(args)) {\n      if (value != null) {\n        params.set(key, value);\n      }\n    }\n    params.set(\"client_id\", this._settings.client_id);\n    if (this._settings.client_secret) {\n      params.set(\"client_secret\", this._settings.client_secret);\n    }\n    await this._jsonService.postForm(url, { body: params });\n    logger2.debug(\"got response\");\n  }\n};\n\n// src/ResponseValidator.ts\nvar ResponseValidator = class {\n  constructor(_settings, _metadataService, _claimsService) {\n    this._settings = _settings;\n    this._metadataService = _metadataService;\n    this._claimsService = _claimsService;\n    this._logger = new Logger(\"ResponseValidator\");\n    this._userInfoService = new UserInfoService(this._settings, this._metadataService);\n    this._tokenClient = new TokenClient(this._settings, this._metadataService);\n  }\n  async validateSigninResponse(response, state) {\n    const logger2 = this._logger.create(\"validateSigninResponse\");\n    this._processSigninState(response, state);\n    logger2.debug(\"state processed\");\n    await this._processCode(response, state);\n    logger2.debug(\"code processed\");\n    if (response.isOpenId) {\n      this._validateIdTokenAttributes(response);\n    }\n    logger2.debug(\"tokens validated\");\n    await this._processClaims(response, state == null ? void 0 : state.skipUserInfo, response.isOpenId);\n    logger2.debug(\"claims processed\");\n  }\n  async validateCredentialsResponse(response, skipUserInfo) {\n    const logger2 = this._logger.create(\"validateCredentialsResponse\");\n    if (response.isOpenId) {\n      this._validateIdTokenAttributes(response);\n    }\n    logger2.debug(\"tokens validated\");\n    await this._processClaims(response, skipUserInfo, response.isOpenId);\n    logger2.debug(\"claims processed\");\n  }\n  async validateRefreshResponse(response, state) {\n    var _a, _b;\n    const logger2 = this._logger.create(\"validateRefreshResponse\");\n    response.userState = state.data;\n    (_a = response.session_state) != null ? _a : response.session_state = state.session_state;\n    (_b = response.scope) != null ? _b : response.scope = state.scope;\n    if (response.isOpenId && !!response.id_token) {\n      this._validateIdTokenAttributes(response, state.id_token);\n      logger2.debug(\"ID Token validated\");\n    }\n    if (!response.id_token) {\n      response.id_token = state.id_token;\n      response.profile = state.profile;\n    }\n    const hasIdToken = response.isOpenId && !!response.id_token;\n    await this._processClaims(response, false, hasIdToken);\n    logger2.debug(\"claims processed\");\n  }\n  validateSignoutResponse(response, state) {\n    const logger2 = this._logger.create(\"validateSignoutResponse\");\n    if (state.id !== response.state) {\n      logger2.throw(new Error(\"State does not match\"));\n    }\n    logger2.debug(\"state validated\");\n    response.userState = state.data;\n    if (response.error) {\n      logger2.warn(\"Response was error\", response.error);\n      throw new ErrorResponse(response);\n    }\n  }\n  _processSigninState(response, state) {\n    var _a;\n    const logger2 = this._logger.create(\"_processSigninState\");\n    if (state.id !== response.state) {\n      logger2.throw(new Error(\"State does not match\"));\n    }\n    if (!state.client_id) {\n      logger2.throw(new Error(\"No client_id on state\"));\n    }\n    if (!state.authority) {\n      logger2.throw(new Error(\"No authority on state\"));\n    }\n    if (this._settings.authority !== state.authority) {\n      logger2.throw(new Error(\"authority mismatch on settings vs. signin state\"));\n    }\n    if (this._settings.client_id && this._settings.client_id !== state.client_id) {\n      logger2.throw(new Error(\"client_id mismatch on settings vs. signin state\"));\n    }\n    logger2.debug(\"state validated\");\n    response.userState = state.data;\n    (_a = response.scope) != null ? _a : response.scope = state.scope;\n    if (response.error) {\n      logger2.warn(\"Response was error\", response.error);\n      throw new ErrorResponse(response);\n    }\n    if (state.code_verifier && !response.code) {\n      logger2.throw(new Error(\"Expected code in response\"));\n    }\n  }\n  async _processClaims(response, skipUserInfo = false, validateSub = true) {\n    const logger2 = this._logger.create(\"_processClaims\");\n    response.profile = this._claimsService.filterProtocolClaims(response.profile);\n    if (skipUserInfo || !this._settings.loadUserInfo || !response.access_token) {\n      logger2.debug(\"not loading user info\");\n      return;\n    }\n    logger2.debug(\"loading user info\");\n    const claims = await this._userInfoService.getClaims(response.access_token);\n    logger2.debug(\"user info claims received from user info endpoint\");\n    if (validateSub && claims.sub !== response.profile.sub) {\n      logger2.throw(new Error(\"subject from UserInfo response does not match subject in ID Token\"));\n    }\n    response.profile = this._claimsService.mergeClaims(response.profile, this._claimsService.filterProtocolClaims(claims));\n    logger2.debug(\"user info claims received, updated profile:\", response.profile);\n  }\n  async _processCode(response, state) {\n    const logger2 = this._logger.create(\"_processCode\");\n    if (response.code) {\n      logger2.debug(\"Validating code\");\n      const tokenResponse = await this._tokenClient.exchangeCode({\n        client_id: state.client_id,\n        client_secret: state.client_secret,\n        code: response.code,\n        redirect_uri: state.redirect_uri,\n        code_verifier: state.code_verifier,\n        ...state.extraTokenParams\n      });\n      Object.assign(response, tokenResponse);\n    } else {\n      logger2.debug(\"No code to process\");\n    }\n  }\n  _validateIdTokenAttributes(response, existingToken) {\n    var _a;\n    const logger2 = this._logger.create(\"_validateIdTokenAttributes\");\n    logger2.debug(\"decoding ID Token JWT\");\n    const incoming = JwtUtils.decode((_a = response.id_token) != null ? _a : \"\");\n    if (!incoming.sub) {\n      logger2.throw(new Error(\"ID Token is missing a subject claim\"));\n    }\n    if (existingToken) {\n      const existing = JwtUtils.decode(existingToken);\n      if (incoming.sub !== existing.sub) {\n        logger2.throw(new Error(\"sub in id_token does not match current sub\"));\n      }\n      if (incoming.auth_time && incoming.auth_time !== existing.auth_time) {\n        logger2.throw(new Error(\"auth_time in id_token does not match original auth_time\"));\n      }\n      if (incoming.azp && incoming.azp !== existing.azp) {\n        logger2.throw(new Error(\"azp in id_token does not match original azp\"));\n      }\n      if (!incoming.azp && existing.azp) {\n        logger2.throw(new Error(\"azp not in id_token, but present in original id_token\"));\n      }\n    }\n    response.profile = incoming;\n  }\n};\n\n// src/State.ts\nvar State = class {\n  constructor(args) {\n    this.id = args.id || CryptoUtils.generateUUIDv4();\n    this.data = args.data;\n    if (args.created && args.created > 0) {\n      this.created = args.created;\n    } else {\n      this.created = Timer.getEpochTime();\n    }\n    this.request_type = args.request_type;\n  }\n  toStorageString() {\n    new Logger(\"State\").create(\"toStorageString\");\n    return JSON.stringify({\n      id: this.id,\n      data: this.data,\n      created: this.created,\n      request_type: this.request_type\n    });\n  }\n  static fromStorageString(storageString) {\n    Logger.createStatic(\"State\", \"fromStorageString\");\n    return new State(JSON.parse(storageString));\n  }\n  static async clearStaleState(storage, age) {\n    const logger2 = Logger.createStatic(\"State\", \"clearStaleState\");\n    const cutoff = Timer.getEpochTime() - age;\n    const keys = await storage.getAllKeys();\n    logger2.debug(\"got keys\", keys);\n    for (let i = 0; i < keys.length; i++) {\n      const key = keys[i];\n      const item = await storage.get(key);\n      let remove = false;\n      if (item) {\n        try {\n          const state = State.fromStorageString(item);\n          logger2.debug(\"got item from key:\", key, state.created);\n          if (state.created <= cutoff) {\n            remove = true;\n          }\n        } catch (err) {\n          logger2.error(\"Error parsing state for key:\", key, err);\n          remove = true;\n        }\n      } else {\n        logger2.debug(\"no item in storage for key:\", key);\n        remove = true;\n      }\n      if (remove) {\n        logger2.debug(\"removed item for key:\", key);\n        void storage.remove(key);\n      }\n    }\n  }\n};\n\n// src/SigninState.ts\nvar SigninState = class extends State {\n  constructor(args) {\n    super(args);\n    if (args.code_verifier === true) {\n      this.code_verifier = CryptoUtils.generateCodeVerifier();\n    } else if (args.code_verifier) {\n      this.code_verifier = args.code_verifier;\n    }\n    if (this.code_verifier) {\n      this.code_challenge = CryptoUtils.generateCodeChallenge(this.code_verifier);\n    }\n    this.authority = args.authority;\n    this.client_id = args.client_id;\n    this.redirect_uri = args.redirect_uri;\n    this.scope = args.scope;\n    this.client_secret = args.client_secret;\n    this.extraTokenParams = args.extraTokenParams;\n    this.response_mode = args.response_mode;\n    this.skipUserInfo = args.skipUserInfo;\n  }\n  toStorageString() {\n    new Logger(\"SigninState\").create(\"toStorageString\");\n    return JSON.stringify({\n      id: this.id,\n      data: this.data,\n      created: this.created,\n      request_type: this.request_type,\n      code_verifier: this.code_verifier,\n      authority: this.authority,\n      client_id: this.client_id,\n      redirect_uri: this.redirect_uri,\n      scope: this.scope,\n      client_secret: this.client_secret,\n      extraTokenParams: this.extraTokenParams,\n      response_mode: this.response_mode,\n      skipUserInfo: this.skipUserInfo\n    });\n  }\n  static fromStorageString(storageString) {\n    Logger.createStatic(\"SigninState\", \"fromStorageString\");\n    const data = JSON.parse(storageString);\n    return new SigninState(data);\n  }\n};\n\n// src/SigninRequest.ts\nvar SigninRequest = class {\n  constructor({\n    // mandatory\n    url,\n    authority,\n    client_id,\n    redirect_uri,\n    response_type,\n    scope,\n    // optional\n    state_data,\n    response_mode,\n    request_type,\n    client_secret,\n    nonce,\n    resource,\n    skipUserInfo,\n    extraQueryParams,\n    extraTokenParams,\n    disablePKCE,\n    ...optionalParams\n  }) {\n    this._logger = new Logger(\"SigninRequest\");\n    if (!url) {\n      this._logger.error(\"ctor: No url passed\");\n      throw new Error(\"url\");\n    }\n    if (!client_id) {\n      this._logger.error(\"ctor: No client_id passed\");\n      throw new Error(\"client_id\");\n    }\n    if (!redirect_uri) {\n      this._logger.error(\"ctor: No redirect_uri passed\");\n      throw new Error(\"redirect_uri\");\n    }\n    if (!response_type) {\n      this._logger.error(\"ctor: No response_type passed\");\n      throw new Error(\"response_type\");\n    }\n    if (!scope) {\n      this._logger.error(\"ctor: No scope passed\");\n      throw new Error(\"scope\");\n    }\n    if (!authority) {\n      this._logger.error(\"ctor: No authority passed\");\n      throw new Error(\"authority\");\n    }\n    this.state = new SigninState({\n      data: state_data,\n      request_type,\n      code_verifier: !disablePKCE,\n      client_id,\n      authority,\n      redirect_uri,\n      response_mode,\n      client_secret,\n      scope,\n      extraTokenParams,\n      skipUserInfo\n    });\n    const parsedUrl = new URL(url);\n    parsedUrl.searchParams.append(\"client_id\", client_id);\n    parsedUrl.searchParams.append(\"redirect_uri\", redirect_uri);\n    parsedUrl.searchParams.append(\"response_type\", response_type);\n    parsedUrl.searchParams.append(\"scope\", scope);\n    if (nonce) {\n      parsedUrl.searchParams.append(\"nonce\", nonce);\n    }\n    parsedUrl.searchParams.append(\"state\", this.state.id);\n    if (this.state.code_challenge) {\n      parsedUrl.searchParams.append(\"code_challenge\", this.state.code_challenge);\n      parsedUrl.searchParams.append(\"code_challenge_method\", \"S256\");\n    }\n    if (resource) {\n      const resources = Array.isArray(resource) ? resource : [resource];\n      resources.forEach((r) => parsedUrl.searchParams.append(\"resource\", r));\n    }\n    for (const [key, value] of Object.entries({ response_mode, ...optionalParams, ...extraQueryParams })) {\n      if (value != null) {\n        parsedUrl.searchParams.append(key, value.toString());\n      }\n    }\n    this.url = parsedUrl.href;\n  }\n};\n\n// src/SigninResponse.ts\nvar OidcScope = \"openid\";\nvar SigninResponse = class {\n  constructor(params) {\n    /** @see {@link User.access_token} */\n    this.access_token = \"\";\n    /** @see {@link User.token_type} */\n    this.token_type = \"\";\n    /** @see {@link User.profile} */\n    this.profile = {};\n    this.state = params.get(\"state\");\n    this.session_state = params.get(\"session_state\");\n    this.error = params.get(\"error\");\n    this.error_description = params.get(\"error_description\");\n    this.error_uri = params.get(\"error_uri\");\n    this.code = params.get(\"code\");\n  }\n  get expires_in() {\n    if (this.expires_at === void 0) {\n      return void 0;\n    }\n    return this.expires_at - Timer.getEpochTime();\n  }\n  set expires_in(value) {\n    if (typeof value === \"string\")\n      value = Number(value);\n    if (value !== void 0 && value >= 0) {\n      this.expires_at = Math.floor(value) + Timer.getEpochTime();\n    }\n  }\n  get isOpenId() {\n    var _a;\n    return ((_a = this.scope) == null ? void 0 : _a.split(\" \").includes(OidcScope)) || !!this.id_token;\n  }\n};\n\n// src/SignoutRequest.ts\nvar SignoutRequest = class {\n  constructor({\n    url,\n    state_data,\n    id_token_hint,\n    post_logout_redirect_uri,\n    extraQueryParams,\n    request_type,\n    client_id\n  }) {\n    this._logger = new Logger(\"SignoutRequest\");\n    if (!url) {\n      this._logger.error(\"ctor: No url passed\");\n      throw new Error(\"url\");\n    }\n    const parsedUrl = new URL(url);\n    if (id_token_hint) {\n      parsedUrl.searchParams.append(\"id_token_hint\", id_token_hint);\n    }\n    if (client_id) {\n      parsedUrl.searchParams.append(\"client_id\", client_id);\n    }\n    if (post_logout_redirect_uri) {\n      parsedUrl.searchParams.append(\"post_logout_redirect_uri\", post_logout_redirect_uri);\n      if (state_data) {\n        this.state = new State({ data: state_data, request_type });\n        parsedUrl.searchParams.append(\"state\", this.state.id);\n      }\n    }\n    for (const [key, value] of Object.entries({ ...extraQueryParams })) {\n      if (value != null) {\n        parsedUrl.searchParams.append(key, value.toString());\n      }\n    }\n    this.url = parsedUrl.href;\n  }\n};\n\n// src/SignoutResponse.ts\nvar SignoutResponse = class {\n  constructor(params) {\n    this.state = params.get(\"state\");\n    this.error = params.get(\"error\");\n    this.error_description = params.get(\"error_description\");\n    this.error_uri = params.get(\"error_uri\");\n  }\n};\n\n// src/ClaimsService.ts\nvar DefaultProtocolClaims = [\n  \"nbf\",\n  \"jti\",\n  \"auth_time\",\n  \"nonce\",\n  \"acr\",\n  \"amr\",\n  \"azp\",\n  \"at_hash\"\n  // https://openid.net/specs/openid-connect-core-1_0.html#CodeIDToken\n];\nvar InternalRequiredProtocolClaims = [\"sub\", \"iss\", \"aud\", \"exp\", \"iat\"];\nvar ClaimsService = class {\n  constructor(_settings) {\n    this._settings = _settings;\n    this._logger = new Logger(\"ClaimsService\");\n  }\n  filterProtocolClaims(claims) {\n    const result = { ...claims };\n    if (this._settings.filterProtocolClaims) {\n      let protocolClaims;\n      if (Array.isArray(this._settings.filterProtocolClaims)) {\n        protocolClaims = this._settings.filterProtocolClaims;\n      } else {\n        protocolClaims = DefaultProtocolClaims;\n      }\n      for (const claim of protocolClaims) {\n        if (!InternalRequiredProtocolClaims.includes(claim)) {\n          delete result[claim];\n        }\n      }\n    }\n    return result;\n  }\n  mergeClaims(claims1, claims2) {\n    const result = { ...claims1 };\n    for (const [claim, values] of Object.entries(claims2)) {\n      for (const value of Array.isArray(values) ? values : [values]) {\n        const previousValue = result[claim];\n        if (!previousValue) {\n          result[claim] = value;\n        } else if (Array.isArray(previousValue)) {\n          if (!previousValue.includes(value)) {\n            previousValue.push(value);\n          }\n        } else if (result[claim] !== value) {\n          if (typeof value === \"object\" && this._settings.mergeClaims) {\n            result[claim] = this.mergeClaims(previousValue, value);\n          } else {\n            result[claim] = [previousValue, value];\n          }\n        }\n      }\n    }\n    return result;\n  }\n};\n\n// src/OidcClient.ts\nvar OidcClient = class {\n  constructor(settings, metadataService) {\n    this._logger = new Logger(\"OidcClient\");\n    this.settings = settings instanceof OidcClientSettingsStore ? settings : new OidcClientSettingsStore(settings);\n    this.metadataService = metadataService != null ? metadataService : new MetadataService(this.settings);\n    this._claimsService = new ClaimsService(this.settings);\n    this._validator = new ResponseValidator(this.settings, this.metadataService, this._claimsService);\n    this._tokenClient = new TokenClient(this.settings, this.metadataService);\n  }\n  async createSigninRequest({\n    state,\n    request,\n    request_uri,\n    request_type,\n    id_token_hint,\n    login_hint,\n    skipUserInfo,\n    nonce,\n    response_type = this.settings.response_type,\n    scope = this.settings.scope,\n    redirect_uri = this.settings.redirect_uri,\n    prompt = this.settings.prompt,\n    display = this.settings.display,\n    max_age = this.settings.max_age,\n    ui_locales = this.settings.ui_locales,\n    acr_values = this.settings.acr_values,\n    resource = this.settings.resource,\n    response_mode = this.settings.response_mode,\n    extraQueryParams = this.settings.extraQueryParams,\n    extraTokenParams = this.settings.extraTokenParams\n  }) {\n    const logger2 = this._logger.create(\"createSigninRequest\");\n    if (response_type !== \"code\") {\n      throw new Error(\"Only the Authorization Code flow (with PKCE) is supported\");\n    }\n    const url = await this.metadataService.getAuthorizationEndpoint();\n    logger2.debug(\"Received authorization endpoint\", url);\n    const signinRequest = new SigninRequest({\n      url,\n      authority: this.settings.authority,\n      client_id: this.settings.client_id,\n      redirect_uri,\n      response_type,\n      scope,\n      state_data: state,\n      prompt,\n      display,\n      max_age,\n      ui_locales,\n      id_token_hint,\n      login_hint,\n      acr_values,\n      resource,\n      request,\n      request_uri,\n      extraQueryParams,\n      extraTokenParams,\n      request_type,\n      response_mode,\n      client_secret: this.settings.client_secret,\n      skipUserInfo,\n      nonce,\n      disablePKCE: this.settings.disablePKCE\n    });\n    await this.clearStaleState();\n    const signinState = signinRequest.state;\n    await this.settings.stateStore.set(signinState.id, signinState.toStorageString());\n    return signinRequest;\n  }\n  async readSigninResponseState(url, removeState = false) {\n    const logger2 = this._logger.create(\"readSigninResponseState\");\n    const response = new SigninResponse(UrlUtils.readParams(url, this.settings.response_mode));\n    if (!response.state) {\n      logger2.throw(new Error(\"No state in response\"));\n      throw null;\n    }\n    const storedStateString = await this.settings.stateStore[removeState ? \"remove\" : \"get\"](response.state);\n    if (!storedStateString) {\n      logger2.throw(new Error(\"No matching state found in storage\"));\n      throw null;\n    }\n    const state = SigninState.fromStorageString(storedStateString);\n    return { state, response };\n  }\n  async processSigninResponse(url) {\n    const logger2 = this._logger.create(\"processSigninResponse\");\n    const { state, response } = await this.readSigninResponseState(url, true);\n    logger2.debug(\"received state from storage; validating response\");\n    await this._validator.validateSigninResponse(response, state);\n    return response;\n  }\n  async processResourceOwnerPasswordCredentials({\n    username,\n    password,\n    skipUserInfo = false,\n    extraTokenParams = {}\n  }) {\n    const tokenResponse = await this._tokenClient.exchangeCredentials({ username, password, ...extraTokenParams });\n    const signinResponse = new SigninResponse(new URLSearchParams());\n    Object.assign(signinResponse, tokenResponse);\n    await this._validator.validateCredentialsResponse(signinResponse, skipUserInfo);\n    return signinResponse;\n  }\n  async useRefreshToken({\n    state,\n    timeoutInSeconds\n  }) {\n    var _a;\n    const logger2 = this._logger.create(\"useRefreshToken\");\n    let scope;\n    if (this.settings.refreshTokenAllowedScope === void 0) {\n      scope = state.scope;\n    } else {\n      const allowableScopes = this.settings.refreshTokenAllowedScope.split(\" \");\n      const providedScopes = ((_a = state.scope) == null ? void 0 : _a.split(\" \")) || [];\n      scope = providedScopes.filter((s) => allowableScopes.includes(s)).join(\" \");\n    }\n    const result = await this._tokenClient.exchangeRefreshToken({\n      refresh_token: state.refresh_token,\n      resource: state.resource,\n      // provide the (possible filtered) scope list\n      scope,\n      timeoutInSeconds\n    });\n    const response = new SigninResponse(new URLSearchParams());\n    Object.assign(response, result);\n    logger2.debug(\"validating response\", response);\n    await this._validator.validateRefreshResponse(response, {\n      ...state,\n      // overide the scope in the state handed over to the validator\n      // so it can set the granted scope to the requested scope in case none is included in the response\n      scope\n    });\n    return response;\n  }\n  async createSignoutRequest({\n    state,\n    id_token_hint,\n    client_id,\n    request_type,\n    post_logout_redirect_uri = this.settings.post_logout_redirect_uri,\n    extraQueryParams = this.settings.extraQueryParams\n  } = {}) {\n    const logger2 = this._logger.create(\"createSignoutRequest\");\n    const url = await this.metadataService.getEndSessionEndpoint();\n    if (!url) {\n      logger2.throw(new Error(\"No end session endpoint\"));\n      throw null;\n    }\n    logger2.debug(\"Received end session endpoint\", url);\n    if (!client_id && post_logout_redirect_uri && !id_token_hint) {\n      client_id = this.settings.client_id;\n    }\n    const request = new SignoutRequest({\n      url,\n      id_token_hint,\n      client_id,\n      post_logout_redirect_uri,\n      state_data: state,\n      extraQueryParams,\n      request_type\n    });\n    await this.clearStaleState();\n    const signoutState = request.state;\n    if (signoutState) {\n      logger2.debug(\"Signout request has state to persist\");\n      await this.settings.stateStore.set(signoutState.id, signoutState.toStorageString());\n    }\n    return request;\n  }\n  async readSignoutResponseState(url, removeState = false) {\n    const logger2 = this._logger.create(\"readSignoutResponseState\");\n    const response = new SignoutResponse(UrlUtils.readParams(url, this.settings.response_mode));\n    if (!response.state) {\n      logger2.debug(\"No state in response\");\n      if (response.error) {\n        logger2.warn(\"Response was error:\", response.error);\n        throw new ErrorResponse(response);\n      }\n      return { state: void 0, response };\n    }\n    const storedStateString = await this.settings.stateStore[removeState ? \"remove\" : \"get\"](response.state);\n    if (!storedStateString) {\n      logger2.throw(new Error(\"No matching state found in storage\"));\n      throw null;\n    }\n    const state = State.fromStorageString(storedStateString);\n    return { state, response };\n  }\n  async processSignoutResponse(url) {\n    const logger2 = this._logger.create(\"processSignoutResponse\");\n    const { state, response } = await this.readSignoutResponseState(url, true);\n    if (state) {\n      logger2.debug(\"Received state from storage; validating response\");\n      this._validator.validateSignoutResponse(response, state);\n    } else {\n      logger2.debug(\"No state from storage; skipping response validation\");\n    }\n    return response;\n  }\n  clearStaleState() {\n    this._logger.create(\"clearStaleState\");\n    return State.clearStaleState(this.settings.stateStore, this.settings.staleStateAgeInSeconds);\n  }\n  async revokeToken(token, type) {\n    this._logger.create(\"revokeToken\");\n    return await this._tokenClient.revoke({\n      token,\n      token_type_hint: type\n    });\n  }\n};\n\n// src/SessionMonitor.ts\nvar SessionMonitor = class {\n  constructor(_userManager) {\n    this._userManager = _userManager;\n    this._logger = new Logger(\"SessionMonitor\");\n    this._start = async (user) => {\n      const session_state = user.session_state;\n      if (!session_state) {\n        return;\n      }\n      const logger2 = this._logger.create(\"_start\");\n      if (user.profile) {\n        this._sub = user.profile.sub;\n        this._sid = user.profile.sid;\n        logger2.debug(\"session_state\", session_state, \", sub\", this._sub);\n      } else {\n        this._sub = void 0;\n        this._sid = void 0;\n        logger2.debug(\"session_state\", session_state, \", anonymous user\");\n      }\n      if (this._checkSessionIFrame) {\n        this._checkSessionIFrame.start(session_state);\n        return;\n      }\n      try {\n        const url = await this._userManager.metadataService.getCheckSessionIframe();\n        if (url) {\n          logger2.debug(\"initializing check session iframe\");\n          const client_id = this._userManager.settings.client_id;\n          const intervalInSeconds = this._userManager.settings.checkSessionIntervalInSeconds;\n          const stopOnError = this._userManager.settings.stopCheckSessionOnError;\n          const checkSessionIFrame = new CheckSessionIFrame(this._callback, client_id, url, intervalInSeconds, stopOnError);\n          await checkSessionIFrame.load();\n          this._checkSessionIFrame = checkSessionIFrame;\n          checkSessionIFrame.start(session_state);\n        } else {\n          logger2.warn(\"no check session iframe found in the metadata\");\n        }\n      } catch (err) {\n        logger2.error(\"Error from getCheckSessionIframe:\", err instanceof Error ? err.message : err);\n      }\n    };\n    this._stop = () => {\n      const logger2 = this._logger.create(\"_stop\");\n      this._sub = void 0;\n      this._sid = void 0;\n      if (this._checkSessionIFrame) {\n        this._checkSessionIFrame.stop();\n      }\n      if (this._userManager.settings.monitorAnonymousSession) {\n        const timerHandle = setInterval(async () => {\n          clearInterval(timerHandle);\n          try {\n            const session = await this._userManager.querySessionStatus();\n            if (session) {\n              const tmpUser = {\n                session_state: session.session_state,\n                profile: session.sub && session.sid ? {\n                  sub: session.sub,\n                  sid: session.sid\n                } : null\n              };\n              void this._start(tmpUser);\n            }\n          } catch (err) {\n            logger2.error(\"error from querySessionStatus\", err instanceof Error ? err.message : err);\n          }\n        }, 1e3);\n      }\n    };\n    this._callback = async () => {\n      const logger2 = this._logger.create(\"_callback\");\n      try {\n        const session = await this._userManager.querySessionStatus();\n        let raiseEvent = true;\n        if (session && this._checkSessionIFrame) {\n          if (session.sub === this._sub) {\n            raiseEvent = false;\n            this._checkSessionIFrame.start(session.session_state);\n            if (session.sid === this._sid) {\n              logger2.debug(\"same sub still logged in at OP, restarting check session iframe; session_state\", session.session_state);\n            } else {\n              logger2.debug(\"same sub still logged in at OP, session state has changed, restarting check session iframe; session_state\", session.session_state);\n              this._userManager.events._raiseUserSessionChanged();\n            }\n          } else {\n            logger2.debug(\"different subject signed into OP\", session.sub);\n          }\n        } else {\n          logger2.debug(\"subject no longer signed into OP\");\n        }\n        if (raiseEvent) {\n          if (this._sub) {\n            this._userManager.events._raiseUserSignedOut();\n          } else {\n            this._userManager.events._raiseUserSignedIn();\n          }\n        } else {\n          logger2.debug(\"no change in session detected, no event to raise\");\n        }\n      } catch (err) {\n        if (this._sub) {\n          logger2.debug(\"Error calling queryCurrentSigninSession; raising signed out event\", err);\n          this._userManager.events._raiseUserSignedOut();\n        }\n      }\n    };\n    if (!_userManager) {\n      this._logger.throw(new Error(\"No user manager passed\"));\n    }\n    this._userManager.events.addUserLoaded(this._start);\n    this._userManager.events.addUserUnloaded(this._stop);\n    this._init().catch((err) => {\n      this._logger.error(err);\n    });\n  }\n  async _init() {\n    this._logger.create(\"_init\");\n    const user = await this._userManager.getUser();\n    if (user) {\n      void this._start(user);\n    } else if (this._userManager.settings.monitorAnonymousSession) {\n      const session = await this._userManager.querySessionStatus();\n      if (session) {\n        const tmpUser = {\n          session_state: session.session_state,\n          profile: session.sub && session.sid ? {\n            sub: session.sub,\n            sid: session.sid\n          } : null\n        };\n        void this._start(tmpUser);\n      }\n    }\n  }\n};\n\n// src/User.ts\nvar User = class {\n  constructor(args) {\n    var _a;\n    this.id_token = args.id_token;\n    this.session_state = (_a = args.session_state) != null ? _a : null;\n    this.access_token = args.access_token;\n    this.refresh_token = args.refresh_token;\n    this.token_type = args.token_type;\n    this.scope = args.scope;\n    this.profile = args.profile;\n    this.expires_at = args.expires_at;\n    this.state = args.userState;\n  }\n  /** Computed number of seconds the access token has remaining. */\n  get expires_in() {\n    if (this.expires_at === void 0) {\n      return void 0;\n    }\n    return this.expires_at - Timer.getEpochTime();\n  }\n  set expires_in(value) {\n    if (value !== void 0) {\n      this.expires_at = Math.floor(value) + Timer.getEpochTime();\n    }\n  }\n  /** Computed value indicating if the access token is expired. */\n  get expired() {\n    const expires_in = this.expires_in;\n    if (expires_in === void 0) {\n      return void 0;\n    }\n    return expires_in <= 0;\n  }\n  /** Array representing the parsed values from the `scope`. */\n  get scopes() {\n    var _a, _b;\n    return (_b = (_a = this.scope) == null ? void 0 : _a.split(\" \")) != null ? _b : [];\n  }\n  toStorageString() {\n    new Logger(\"User\").create(\"toStorageString\");\n    return JSON.stringify({\n      id_token: this.id_token,\n      session_state: this.session_state,\n      access_token: this.access_token,\n      refresh_token: this.refresh_token,\n      token_type: this.token_type,\n      scope: this.scope,\n      profile: this.profile,\n      expires_at: this.expires_at\n    });\n  }\n  static fromStorageString(storageString) {\n    Logger.createStatic(\"User\", \"fromStorageString\");\n    return new User(JSON.parse(storageString));\n  }\n};\n\n// src/navigators/AbstractChildWindow.ts\nvar messageSource = \"oidc-client\";\nvar AbstractChildWindow = class {\n  constructor() {\n    this._abort = new Event(\"Window navigation aborted\");\n    this._disposeHandlers = /* @__PURE__ */ new Set();\n    this._window = null;\n  }\n  async navigate(params) {\n    const logger2 = this._logger.create(\"navigate\");\n    if (!this._window) {\n      throw new Error(\"Attempted to navigate on a disposed window\");\n    }\n    logger2.debug(\"setting URL in window\");\n    this._window.location.replace(params.url);\n    const { url, keepOpen } = await new Promise((resolve, reject) => {\n      const listener = (e) => {\n        var _a;\n        const data = e.data;\n        const origin = (_a = params.scriptOrigin) != null ? _a : window.location.origin;\n        if (e.origin !== origin || (data == null ? void 0 : data.source) !== messageSource) {\n          return;\n        }\n        try {\n          const state = UrlUtils.readParams(data.url, params.response_mode).get(\"state\");\n          if (!state) {\n            logger2.warn(\"no state found in response url\");\n          }\n          if (e.source !== this._window && state !== params.state) {\n            return;\n          }\n        } catch (err) {\n          this._dispose();\n          reject(new Error(\"Invalid response from window\"));\n        }\n        resolve(data);\n      };\n      window.addEventListener(\"message\", listener, false);\n      this._disposeHandlers.add(() => window.removeEventListener(\"message\", listener, false));\n      this._disposeHandlers.add(this._abort.addHandler((reason) => {\n        this._dispose();\n        reject(reason);\n      }));\n    });\n    logger2.debug(\"got response from window\");\n    this._dispose();\n    if (!keepOpen) {\n      this.close();\n    }\n    return { url };\n  }\n  _dispose() {\n    this._logger.create(\"_dispose\");\n    for (const dispose of this._disposeHandlers) {\n      dispose();\n    }\n    this._disposeHandlers.clear();\n  }\n  static _notifyParent(parent, url, keepOpen = false, targetOrigin = window.location.origin) {\n    parent.postMessage({\n      source: messageSource,\n      url,\n      keepOpen\n    }, targetOrigin);\n  }\n};\n\n// src/UserManagerSettings.ts\nvar DefaultPopupWindowFeatures = {\n  location: false,\n  toolbar: false,\n  height: 640\n};\nvar DefaultPopupTarget = \"_blank\";\nvar DefaultAccessTokenExpiringNotificationTimeInSeconds = 60;\nvar DefaultCheckSessionIntervalInSeconds = 2;\nvar DefaultSilentRequestTimeoutInSeconds = 10;\nvar UserManagerSettingsStore = class extends OidcClientSettingsStore {\n  constructor(args) {\n    const {\n      popup_redirect_uri = args.redirect_uri,\n      popup_post_logout_redirect_uri = args.post_logout_redirect_uri,\n      popupWindowFeatures = DefaultPopupWindowFeatures,\n      popupWindowTarget = DefaultPopupTarget,\n      redirectMethod = \"assign\",\n      redirectTarget = \"self\",\n      iframeNotifyParentOrigin = args.iframeNotifyParentOrigin,\n      iframeScriptOrigin = args.iframeScriptOrigin,\n      silent_redirect_uri = args.redirect_uri,\n      silentRequestTimeoutInSeconds = DefaultSilentRequestTimeoutInSeconds,\n      automaticSilentRenew = true,\n      validateSubOnSilentRenew = true,\n      includeIdTokenInSilentRenew = false,\n      monitorSession = false,\n      monitorAnonymousSession = false,\n      checkSessionIntervalInSeconds = DefaultCheckSessionIntervalInSeconds,\n      query_status_response_type = \"code\",\n      stopCheckSessionOnError = true,\n      revokeTokenTypes = [\"access_token\", \"refresh_token\"],\n      revokeTokensOnSignout = false,\n      includeIdTokenInSilentSignout = false,\n      accessTokenExpiringNotificationTimeInSeconds = DefaultAccessTokenExpiringNotificationTimeInSeconds,\n      userStore\n    } = args;\n    super(args);\n    this.popup_redirect_uri = popup_redirect_uri;\n    this.popup_post_logout_redirect_uri = popup_post_logout_redirect_uri;\n    this.popupWindowFeatures = popupWindowFeatures;\n    this.popupWindowTarget = popupWindowTarget;\n    this.redirectMethod = redirectMethod;\n    this.redirectTarget = redirectTarget;\n    this.iframeNotifyParentOrigin = iframeNotifyParentOrigin;\n    this.iframeScriptOrigin = iframeScriptOrigin;\n    this.silent_redirect_uri = silent_redirect_uri;\n    this.silentRequestTimeoutInSeconds = silentRequestTimeoutInSeconds;\n    this.automaticSilentRenew = automaticSilentRenew;\n    this.validateSubOnSilentRenew = validateSubOnSilentRenew;\n    this.includeIdTokenInSilentRenew = includeIdTokenInSilentRenew;\n    this.monitorSession = monitorSession;\n    this.monitorAnonymousSession = monitorAnonymousSession;\n    this.checkSessionIntervalInSeconds = checkSessionIntervalInSeconds;\n    this.stopCheckSessionOnError = stopCheckSessionOnError;\n    this.query_status_response_type = query_status_response_type;\n    this.revokeTokenTypes = revokeTokenTypes;\n    this.revokeTokensOnSignout = revokeTokensOnSignout;\n    this.includeIdTokenInSilentSignout = includeIdTokenInSilentSignout;\n    this.accessTokenExpiringNotificationTimeInSeconds = accessTokenExpiringNotificationTimeInSeconds;\n    if (userStore) {\n      this.userStore = userStore;\n    } else {\n      const store = typeof window !== \"undefined\" ? window.sessionStorage : new InMemoryWebStorage();\n      this.userStore = new WebStorageStateStore({ store });\n    }\n  }\n};\n\n// src/navigators/IFrameWindow.ts\nvar IFrameWindow = class extends AbstractChildWindow {\n  constructor({\n    silentRequestTimeoutInSeconds = DefaultSilentRequestTimeoutInSeconds\n  }) {\n    super();\n    this._logger = new Logger(\"IFrameWindow\");\n    this._timeoutInSeconds = silentRequestTimeoutInSeconds;\n    this._frame = IFrameWindow.createHiddenIframe();\n    this._window = this._frame.contentWindow;\n  }\n  static createHiddenIframe() {\n    const iframe = window.document.createElement(\"iframe\");\n    iframe.style.visibility = \"hidden\";\n    iframe.style.position = \"fixed\";\n    iframe.style.left = \"-1000px\";\n    iframe.style.top = \"0\";\n    iframe.width = \"0\";\n    iframe.height = \"0\";\n    window.document.body.appendChild(iframe);\n    return iframe;\n  }\n  async navigate(params) {\n    this._logger.debug(\"navigate: Using timeout of:\", this._timeoutInSeconds);\n    const timer = setTimeout(() => this._abort.raise(new ErrorTimeout(\"IFrame timed out without a response\")), this._timeoutInSeconds * 1e3);\n    this._disposeHandlers.add(() => clearTimeout(timer));\n    return await super.navigate(params);\n  }\n  close() {\n    var _a;\n    if (this._frame) {\n      if (this._frame.parentNode) {\n        this._frame.addEventListener(\"load\", (ev) => {\n          var _a2;\n          const frame = ev.target;\n          (_a2 = frame.parentNode) == null ? void 0 : _a2.removeChild(frame);\n          this._abort.raise(new Error(\"IFrame removed from DOM\"));\n        }, true);\n        (_a = this._frame.contentWindow) == null ? void 0 : _a.location.replace(\"about:blank\");\n      }\n      this._frame = null;\n    }\n    this._window = null;\n  }\n  static notifyParent(url, targetOrigin) {\n    return super._notifyParent(window.parent, url, false, targetOrigin);\n  }\n};\n\n// src/navigators/IFrameNavigator.ts\nvar IFrameNavigator = class {\n  constructor(_settings) {\n    this._settings = _settings;\n    this._logger = new Logger(\"IFrameNavigator\");\n  }\n  async prepare({\n    silentRequestTimeoutInSeconds = this._settings.silentRequestTimeoutInSeconds\n  }) {\n    return new IFrameWindow({ silentRequestTimeoutInSeconds });\n  }\n  async callback(url) {\n    this._logger.create(\"callback\");\n    IFrameWindow.notifyParent(url, this._settings.iframeNotifyParentOrigin);\n  }\n};\n\n// src/navigators/PopupWindow.ts\nvar checkForPopupClosedInterval = 500;\nvar PopupWindow = class extends AbstractChildWindow {\n  constructor({\n    popupWindowTarget = DefaultPopupTarget,\n    popupWindowFeatures = {}\n  }) {\n    super();\n    this._logger = new Logger(\"PopupWindow\");\n    const centeredPopup = PopupUtils.center({ ...DefaultPopupWindowFeatures, ...popupWindowFeatures });\n    this._window = window.open(void 0, popupWindowTarget, PopupUtils.serialize(centeredPopup));\n  }\n  async navigate(params) {\n    var _a;\n    (_a = this._window) == null ? void 0 : _a.focus();\n    const popupClosedInterval = setInterval(() => {\n      if (!this._window || this._window.closed) {\n        this._abort.raise(new Error(\"Popup closed by user\"));\n      }\n    }, checkForPopupClosedInterval);\n    this._disposeHandlers.add(() => clearInterval(popupClosedInterval));\n    return await super.navigate(params);\n  }\n  close() {\n    if (this._window) {\n      if (!this._window.closed) {\n        this._window.close();\n        this._abort.raise(new Error(\"Popup closed\"));\n      }\n    }\n    this._window = null;\n  }\n  static notifyOpener(url, keepOpen) {\n    if (!window.opener) {\n      throw new Error(\"No window.opener. Can't complete notification.\");\n    }\n    return super._notifyParent(window.opener, url, keepOpen);\n  }\n};\n\n// src/navigators/PopupNavigator.ts\nvar PopupNavigator = class {\n  constructor(_settings) {\n    this._settings = _settings;\n    this._logger = new Logger(\"PopupNavigator\");\n  }\n  async prepare({\n    popupWindowFeatures = this._settings.popupWindowFeatures,\n    popupWindowTarget = this._settings.popupWindowTarget\n  }) {\n    return new PopupWindow({ popupWindowFeatures, popupWindowTarget });\n  }\n  async callback(url, keepOpen = false) {\n    this._logger.create(\"callback\");\n    PopupWindow.notifyOpener(url, keepOpen);\n  }\n};\n\n// src/navigators/RedirectNavigator.ts\nvar RedirectNavigator = class {\n  constructor(_settings) {\n    this._settings = _settings;\n    this._logger = new Logger(\"RedirectNavigator\");\n  }\n  async prepare({\n    redirectMethod = this._settings.redirectMethod,\n    redirectTarget = this._settings.redirectTarget\n  }) {\n    var _a;\n    this._logger.create(\"prepare\");\n    let targetWindow = window.self;\n    if (redirectTarget === \"top\") {\n      targetWindow = (_a = window.top) != null ? _a : window.self;\n    }\n    const redirect = targetWindow.location[redirectMethod].bind(targetWindow.location);\n    let abort;\n    return {\n      navigate: async (params) => {\n        this._logger.create(\"navigate\");\n        const promise = new Promise((resolve, reject) => {\n          abort = reject;\n        });\n        redirect(params.url);\n        return await promise;\n      },\n      close: () => {\n        this._logger.create(\"close\");\n        abort == null ? void 0 : abort(new Error(\"Redirect aborted\"));\n        targetWindow.stop();\n      }\n    };\n  }\n};\n\n// src/UserManagerEvents.ts\nvar UserManagerEvents = class extends AccessTokenEvents {\n  constructor(settings) {\n    super({ expiringNotificationTimeInSeconds: settings.accessTokenExpiringNotificationTimeInSeconds });\n    this._logger = new Logger(\"UserManagerEvents\");\n    this._userLoaded = new Event(\"User loaded\");\n    this._userUnloaded = new Event(\"User unloaded\");\n    this._silentRenewError = new Event(\"Silent renew error\");\n    this._userSignedIn = new Event(\"User signed in\");\n    this._userSignedOut = new Event(\"User signed out\");\n    this._userSessionChanged = new Event(\"User session changed\");\n  }\n  load(user, raiseEvent = true) {\n    super.load(user);\n    if (raiseEvent) {\n      this._userLoaded.raise(user);\n    }\n  }\n  unload() {\n    super.unload();\n    this._userUnloaded.raise();\n  }\n  /**\n   * Add callback: Raised when a user session has been established (or re-established).\n   */\n  addUserLoaded(cb) {\n    return this._userLoaded.addHandler(cb);\n  }\n  /**\n   * Remove callback: Raised when a user session has been established (or re-established).\n   */\n  removeUserLoaded(cb) {\n    return this._userLoaded.removeHandler(cb);\n  }\n  /**\n   * Add callback: Raised when a user session has been terminated.\n   */\n  addUserUnloaded(cb) {\n    return this._userUnloaded.addHandler(cb);\n  }\n  /**\n   * Remove callback: Raised when a user session has been terminated.\n   */\n  removeUserUnloaded(cb) {\n    return this._userUnloaded.removeHandler(cb);\n  }\n  /**\n   * Add callback: Raised when the automatic silent renew has failed.\n   */\n  addSilentRenewError(cb) {\n    return this._silentRenewError.addHandler(cb);\n  }\n  /**\n   * Remove callback: Raised when the automatic silent renew has failed.\n   */\n  removeSilentRenewError(cb) {\n    return this._silentRenewError.removeHandler(cb);\n  }\n  /**\n   * @internal\n   */\n  _raiseSilentRenewError(e) {\n    this._silentRenewError.raise(e);\n  }\n  /**\n   * Add callback: Raised when the user is signed in (when `monitorSession` is set).\n   * @see {@link UserManagerSettings.monitorSession}\n   */\n  addUserSignedIn(cb) {\n    return this._userSignedIn.addHandler(cb);\n  }\n  /**\n   * Remove callback: Raised when the user is signed in (when `monitorSession` is set).\n   */\n  removeUserSignedIn(cb) {\n    this._userSignedIn.removeHandler(cb);\n  }\n  /**\n   * @internal\n   */\n  _raiseUserSignedIn() {\n    this._userSignedIn.raise();\n  }\n  /**\n   * Add callback: Raised when the user's sign-in status at the OP has changed (when `monitorSession` is set).\n   * @see {@link UserManagerSettings.monitorSession}\n   */\n  addUserSignedOut(cb) {\n    return this._userSignedOut.addHandler(cb);\n  }\n  /**\n   * Remove callback: Raised when the user's sign-in status at the OP has changed (when `monitorSession` is set).\n   */\n  removeUserSignedOut(cb) {\n    this._userSignedOut.removeHandler(cb);\n  }\n  /**\n   * @internal\n   */\n  _raiseUserSignedOut() {\n    this._userSignedOut.raise();\n  }\n  /**\n   * Add callback: Raised when the user session changed (when `monitorSession` is set).\n   * @see {@link UserManagerSettings.monitorSession}\n   */\n  addUserSessionChanged(cb) {\n    return this._userSessionChanged.addHandler(cb);\n  }\n  /**\n   * Remove callback: Raised when the user session changed (when `monitorSession` is set).\n   */\n  removeUserSessionChanged(cb) {\n    this._userSessionChanged.removeHandler(cb);\n  }\n  /**\n   * @internal\n   */\n  _raiseUserSessionChanged() {\n    this._userSessionChanged.raise();\n  }\n};\n\n// src/SilentRenewService.ts\nvar SilentRenewService = class {\n  constructor(_userManager) {\n    this._userManager = _userManager;\n    this._logger = new Logger(\"SilentRenewService\");\n    this._isStarted = false;\n    this._retryTimer = new Timer(\"Retry Silent Renew\");\n    this._tokenExpiring = async () => {\n      const logger2 = this._logger.create(\"_tokenExpiring\");\n      try {\n        await this._userManager.signinSilent();\n        logger2.debug(\"silent token renewal successful\");\n      } catch (err) {\n        if (err instanceof ErrorTimeout) {\n          logger2.warn(\"ErrorTimeout from signinSilent:\", err, \"retry in 5s\");\n          this._retryTimer.init(5);\n          return;\n        }\n        logger2.error(\"Error from signinSilent:\", err);\n        this._userManager.events._raiseSilentRenewError(err);\n      }\n    };\n  }\n  async start() {\n    const logger2 = this._logger.create(\"start\");\n    if (!this._isStarted) {\n      this._isStarted = true;\n      this._userManager.events.addAccessTokenExpiring(this._tokenExpiring);\n      this._retryTimer.addHandler(this._tokenExpiring);\n      try {\n        await this._userManager.getUser();\n      } catch (err) {\n        logger2.error(\"getUser error\", err);\n      }\n    }\n  }\n  stop() {\n    if (this._isStarted) {\n      this._retryTimer.cancel();\n      this._retryTimer.removeHandler(this._tokenExpiring);\n      this._userManager.events.removeAccessTokenExpiring(this._tokenExpiring);\n      this._isStarted = false;\n    }\n  }\n};\n\n// src/RefreshState.ts\nvar RefreshState = class {\n  constructor(args, resource) {\n    this.refresh_token = args.refresh_token;\n    this.id_token = args.id_token;\n    this.session_state = args.session_state;\n    this.scope = args.scope;\n    this.profile = args.profile;\n    this.resource = resource;\n    this.data = args.state;\n  }\n};\n\n// src/UserManager.ts\nvar UserManager = class {\n  constructor(settings) {\n    this._logger = new Logger(\"UserManager\");\n    this.settings = new UserManagerSettingsStore(settings);\n    this._client = new OidcClient(settings);\n    this._redirectNavigator = new RedirectNavigator(this.settings);\n    this._popupNavigator = new PopupNavigator(this.settings);\n    this._iframeNavigator = new IFrameNavigator(this.settings);\n    this._events = new UserManagerEvents(this.settings);\n    this._silentRenewService = new SilentRenewService(this);\n    if (this.settings.automaticSilentRenew) {\n      this.startSilentRenew();\n    }\n    this._sessionMonitor = null;\n    if (this.settings.monitorSession) {\n      this._sessionMonitor = new SessionMonitor(this);\n    }\n  }\n  /** Returns an object used to register for events raised by the `UserManager`. */\n  get events() {\n    return this._events;\n  }\n  /** Returns an object used to access the metadata configuration of the OIDC provider. */\n  get metadataService() {\n    return this._client.metadataService;\n  }\n  /**\n   * Returns promise to load the `User` object for the currently authenticated user.\n   */\n  async getUser() {\n    const logger2 = this._logger.create(\"getUser\");\n    const user = await this._loadUser();\n    if (user) {\n      logger2.info(\"user loaded\");\n      this._events.load(user, false);\n      return user;\n    }\n    logger2.info(\"user not found in storage\");\n    return null;\n  }\n  /**\n   * Returns promise to remove from any storage the currently authenticated user.\n   */\n  async removeUser() {\n    const logger2 = this._logger.create(\"removeUser\");\n    await this.storeUser(null);\n    logger2.info(\"user removed from storage\");\n    this._events.unload();\n  }\n  /**\n   * Returns promise to trigger a redirect of the current window to the authorization endpoint.\n   */\n  async signinRedirect(args = {}) {\n    this._logger.create(\"signinRedirect\");\n    const {\n      redirectMethod,\n      ...requestArgs\n    } = args;\n    const handle = await this._redirectNavigator.prepare({ redirectMethod });\n    await this._signinStart({\n      request_type: \"si:r\",\n      ...requestArgs\n    }, handle);\n  }\n  /**\n   * Returns promise to process response from the authorization endpoint. The result of the promise is the authenticated `User`.\n   */\n  async signinRedirectCallback(url = window.location.href) {\n    const logger2 = this._logger.create(\"signinRedirectCallback\");\n    const user = await this._signinEnd(url);\n    if (user.profile && user.profile.sub) {\n      logger2.info(\"success, signed in subject\", user.profile.sub);\n    } else {\n      logger2.info(\"no subject\");\n    }\n    return user;\n  }\n  /**\n   * Returns promise to process the signin with user/password. The result of the promise is the authenticated `User`.\n   *\n   * Throws an ErrorResponse in case of wrong authentication.\n   */\n  async signinResourceOwnerCredentials({\n    username,\n    password,\n    skipUserInfo = false\n  }) {\n    const logger2 = this._logger.create(\"signinResourceOwnerCredential\");\n    const signinResponse = await this._client.processResourceOwnerPasswordCredentials({ username, password, skipUserInfo, extraTokenParams: this.settings.extraTokenParams });\n    logger2.debug(\"got signin response\");\n    const user = await this._buildUser(signinResponse);\n    if (user.profile && user.profile.sub) {\n      logger2.info(\"success, signed in subject\", user.profile.sub);\n    } else {\n      logger2.info(\"no subject\");\n    }\n    return user;\n  }\n  /**\n   * Returns promise to trigger a request (via a popup window) to the authorization endpoint. The result of the promise is the authenticated `User`.\n   */\n  async signinPopup(args = {}) {\n    const logger2 = this._logger.create(\"signinPopup\");\n    const {\n      popupWindowFeatures,\n      popupWindowTarget,\n      ...requestArgs\n    } = args;\n    const url = this.settings.popup_redirect_uri;\n    if (!url) {\n      logger2.throw(new Error(\"No popup_redirect_uri configured\"));\n    }\n    const handle = await this._popupNavigator.prepare({ popupWindowFeatures, popupWindowTarget });\n    const user = await this._signin({\n      request_type: \"si:p\",\n      redirect_uri: url,\n      display: \"popup\",\n      ...requestArgs\n    }, handle);\n    if (user) {\n      if (user.profile && user.profile.sub) {\n        logger2.info(\"success, signed in subject\", user.profile.sub);\n      } else {\n        logger2.info(\"no subject\");\n      }\n    }\n    return user;\n  }\n  /**\n   * Returns promise to notify the opening window of response from the authorization endpoint.\n   */\n  async signinPopupCallback(url = window.location.href, keepOpen = false) {\n    const logger2 = this._logger.create(\"signinPopupCallback\");\n    await this._popupNavigator.callback(url, keepOpen);\n    logger2.info(\"success\");\n  }\n  /**\n   * Returns promise to trigger a silent request (via an iframe) to the authorization endpoint.\n   * The result of the promise is the authenticated `User`.\n   */\n  async signinSilent(args = {}) {\n    var _a;\n    const logger2 = this._logger.create(\"signinSilent\");\n    const {\n      silentRequestTimeoutInSeconds,\n      resource,\n      ...requestArgs\n    } = args;\n    let user = await this._loadUser();\n    if (user == null ? void 0 : user.refresh_token) {\n      logger2.debug(\"using refresh token\");\n      const state = new RefreshState(user, resource);\n      return await this._useRefreshToken(state);\n    }\n    const url = this.settings.silent_redirect_uri;\n    if (!url) {\n      logger2.throw(new Error(\"No silent_redirect_uri configured\"));\n    }\n    let verifySub;\n    if (user && this.settings.validateSubOnSilentRenew) {\n      logger2.debug(\"subject prior to silent renew:\", user.profile.sub);\n      verifySub = user.profile.sub;\n    }\n    const handle = await this._iframeNavigator.prepare({ silentRequestTimeoutInSeconds });\n    user = await this._signin({\n      request_type: \"si:s\",\n      redirect_uri: url,\n      prompt: \"none\",\n      id_token_hint: this.settings.includeIdTokenInSilentRenew ? user == null ? void 0 : user.id_token : void 0,\n      ...requestArgs\n    }, handle, verifySub);\n    if (user) {\n      if ((_a = user.profile) == null ? void 0 : _a.sub) {\n        logger2.info(\"success, signed in subject\", user.profile.sub);\n      } else {\n        logger2.info(\"no subject\");\n      }\n    }\n    return user;\n  }\n  async _useRefreshToken(state) {\n    const response = await this._client.useRefreshToken({\n      state,\n      timeoutInSeconds: this.settings.silentRequestTimeoutInSeconds\n    });\n    const user = new User({ ...state, ...response });\n    await this.storeUser(user);\n    this._events.load(user);\n    return user;\n  }\n  /**\n   * Returns promise to notify the parent window of response from the authorization endpoint.\n   */\n  async signinSilentCallback(url = window.location.href) {\n    const logger2 = this._logger.create(\"signinSilentCallback\");\n    await this._iframeNavigator.callback(url);\n    logger2.info(\"success\");\n  }\n  async signinCallback(url = window.location.href) {\n    const { state } = await this._client.readSigninResponseState(url);\n    switch (state.request_type) {\n      case \"si:r\":\n        return await this.signinRedirectCallback(url);\n      case \"si:p\":\n        return await this.signinPopupCallback(url);\n      case \"si:s\":\n        return await this.signinSilentCallback(url);\n      default:\n        throw new Error(\"invalid response_type in state\");\n    }\n  }\n  async signoutCallback(url = window.location.href, keepOpen = false) {\n    const { state } = await this._client.readSignoutResponseState(url);\n    if (!state) {\n      return;\n    }\n    switch (state.request_type) {\n      case \"so:r\":\n        await this.signoutRedirectCallback(url);\n        break;\n      case \"so:p\":\n        await this.signoutPopupCallback(url, keepOpen);\n        break;\n      case \"so:s\":\n        await this.signoutSilentCallback(url);\n        break;\n      default:\n        throw new Error(\"invalid response_type in state\");\n    }\n  }\n  /**\n   * Returns promise to query OP for user's current signin status. Returns object with session_state and subject identifier.\n   */\n  async querySessionStatus(args = {}) {\n    const logger2 = this._logger.create(\"querySessionStatus\");\n    const {\n      silentRequestTimeoutInSeconds,\n      ...requestArgs\n    } = args;\n    const url = this.settings.silent_redirect_uri;\n    if (!url) {\n      logger2.throw(new Error(\"No silent_redirect_uri configured\"));\n    }\n    const user = await this._loadUser();\n    const handle = await this._iframeNavigator.prepare({ silentRequestTimeoutInSeconds });\n    const navResponse = await this._signinStart({\n      request_type: \"si:s\",\n      // this acts like a signin silent\n      redirect_uri: url,\n      prompt: \"none\",\n      id_token_hint: this.settings.includeIdTokenInSilentRenew ? user == null ? void 0 : user.id_token : void 0,\n      response_type: this.settings.query_status_response_type,\n      scope: \"openid\",\n      skipUserInfo: true,\n      ...requestArgs\n    }, handle);\n    try {\n      const signinResponse = await this._client.processSigninResponse(navResponse.url);\n      logger2.debug(\"got signin response\");\n      if (signinResponse.session_state && signinResponse.profile.sub) {\n        logger2.info(\"success for subject\", signinResponse.profile.sub);\n        return {\n          session_state: signinResponse.session_state,\n          sub: signinResponse.profile.sub,\n          sid: signinResponse.profile.sid\n        };\n      }\n      logger2.info(\"success, user not authenticated\");\n      return null;\n    } catch (err) {\n      if (this.settings.monitorAnonymousSession && err instanceof ErrorResponse) {\n        switch (err.error) {\n          case \"login_required\":\n          case \"consent_required\":\n          case \"interaction_required\":\n          case \"account_selection_required\":\n            logger2.info(\"success for anonymous user\");\n            return {\n              // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n              session_state: err.session_state\n            };\n        }\n      }\n      throw err;\n    }\n  }\n  async _signin(args, handle, verifySub) {\n    const navResponse = await this._signinStart(args, handle);\n    return await this._signinEnd(navResponse.url, verifySub);\n  }\n  async _signinStart(args, handle) {\n    const logger2 = this._logger.create(\"_signinStart\");\n    try {\n      const signinRequest = await this._client.createSigninRequest(args);\n      logger2.debug(\"got signin request\");\n      return await handle.navigate({\n        url: signinRequest.url,\n        state: signinRequest.state.id,\n        response_mode: signinRequest.state.response_mode,\n        scriptOrigin: this.settings.iframeScriptOrigin\n      });\n    } catch (err) {\n      logger2.debug(\"error after preparing navigator, closing navigator window\");\n      handle.close();\n      throw err;\n    }\n  }\n  async _signinEnd(url, verifySub) {\n    const logger2 = this._logger.create(\"_signinEnd\");\n    const signinResponse = await this._client.processSigninResponse(url);\n    logger2.debug(\"got signin response\");\n    const user = await this._buildUser(signinResponse, verifySub);\n    return user;\n  }\n  async _buildUser(signinResponse, verifySub) {\n    const logger2 = this._logger.create(\"_buildUser\");\n    const user = new User(signinResponse);\n    if (verifySub) {\n      if (verifySub !== user.profile.sub) {\n        logger2.debug(\"current user does not match user returned from signin. sub from signin:\", user.profile.sub);\n        throw new ErrorResponse({ ...signinResponse, error: \"login_required\" });\n      }\n      logger2.debug(\"current user matches user returned from signin\");\n    }\n    await this.storeUser(user);\n    logger2.debug(\"user stored\");\n    this._events.load(user);\n    return user;\n  }\n  /**\n   * Returns promise to trigger a redirect of the current window to the end session endpoint.\n   */\n  async signoutRedirect(args = {}) {\n    const logger2 = this._logger.create(\"signoutRedirect\");\n    const {\n      redirectMethod,\n      ...requestArgs\n    } = args;\n    const handle = await this._redirectNavigator.prepare({ redirectMethod });\n    await this._signoutStart({\n      request_type: \"so:r\",\n      post_logout_redirect_uri: this.settings.post_logout_redirect_uri,\n      ...requestArgs\n    }, handle);\n    logger2.info(\"success\");\n  }\n  /**\n   * Returns promise to process response from the end session endpoint.\n   */\n  async signoutRedirectCallback(url = window.location.href) {\n    const logger2 = this._logger.create(\"signoutRedirectCallback\");\n    const response = await this._signoutEnd(url);\n    logger2.info(\"success\");\n    return response;\n  }\n  /**\n   * Returns promise to trigger a redirect of a popup window window to the end session endpoint.\n   */\n  async signoutPopup(args = {}) {\n    const logger2 = this._logger.create(\"signoutPopup\");\n    const {\n      popupWindowFeatures,\n      popupWindowTarget,\n      ...requestArgs\n    } = args;\n    const url = this.settings.popup_post_logout_redirect_uri;\n    const handle = await this._popupNavigator.prepare({ popupWindowFeatures, popupWindowTarget });\n    await this._signout({\n      request_type: \"so:p\",\n      post_logout_redirect_uri: url,\n      // we're putting a dummy entry in here because we\n      // need a unique id from the state for notification\n      // to the parent window, which is necessary if we\n      // plan to return back to the client after signout\n      // and so we can close the popup after signout\n      state: url == null ? void 0 : {},\n      ...requestArgs\n    }, handle);\n    logger2.info(\"success\");\n  }\n  /**\n   * Returns promise to process response from the end session endpoint from a popup window.\n   */\n  async signoutPopupCallback(url = window.location.href, keepOpen = false) {\n    const logger2 = this._logger.create(\"signoutPopupCallback\");\n    await this._popupNavigator.callback(url, keepOpen);\n    logger2.info(\"success\");\n  }\n  async _signout(args, handle) {\n    const navResponse = await this._signoutStart(args, handle);\n    return await this._signoutEnd(navResponse.url);\n  }\n  async _signoutStart(args = {}, handle) {\n    var _a;\n    const logger2 = this._logger.create(\"_signoutStart\");\n    try {\n      const user = await this._loadUser();\n      logger2.debug(\"loaded current user from storage\");\n      if (this.settings.revokeTokensOnSignout) {\n        await this._revokeInternal(user);\n      }\n      const id_token = args.id_token_hint || user && user.id_token;\n      if (id_token) {\n        logger2.debug(\"setting id_token_hint in signout request\");\n        args.id_token_hint = id_token;\n      }\n      await this.removeUser();\n      logger2.debug(\"user removed, creating signout request\");\n      const signoutRequest = await this._client.createSignoutRequest(args);\n      logger2.debug(\"got signout request\");\n      return await handle.navigate({\n        url: signoutRequest.url,\n        state: (_a = signoutRequest.state) == null ? void 0 : _a.id\n      });\n    } catch (err) {\n      logger2.debug(\"error after preparing navigator, closing navigator window\");\n      handle.close();\n      throw err;\n    }\n  }\n  async _signoutEnd(url) {\n    const logger2 = this._logger.create(\"_signoutEnd\");\n    const signoutResponse = await this._client.processSignoutResponse(url);\n    logger2.debug(\"got signout response\");\n    return signoutResponse;\n  }\n  /**\n   * Returns promise to trigger a silent request (via an iframe) to the end session endpoint.\n   */\n  async signoutSilent(args = {}) {\n    var _a;\n    const logger2 = this._logger.create(\"signoutSilent\");\n    const {\n      silentRequestTimeoutInSeconds,\n      ...requestArgs\n    } = args;\n    const id_token_hint = this.settings.includeIdTokenInSilentSignout ? (_a = await this._loadUser()) == null ? void 0 : _a.id_token : void 0;\n    const url = this.settings.popup_post_logout_redirect_uri;\n    const handle = await this._iframeNavigator.prepare({ silentRequestTimeoutInSeconds });\n    await this._signout({\n      request_type: \"so:s\",\n      post_logout_redirect_uri: url,\n      id_token_hint,\n      ...requestArgs\n    }, handle);\n    logger2.info(\"success\");\n  }\n  /**\n   * Returns promise to notify the parent window of response from the end session endpoint.\n   */\n  async signoutSilentCallback(url = window.location.href) {\n    const logger2 = this._logger.create(\"signoutSilentCallback\");\n    await this._iframeNavigator.callback(url);\n    logger2.info(\"success\");\n  }\n  async revokeTokens(types) {\n    const user = await this._loadUser();\n    await this._revokeInternal(user, types);\n  }\n  async _revokeInternal(user, types = this.settings.revokeTokenTypes) {\n    const logger2 = this._logger.create(\"_revokeInternal\");\n    if (!user)\n      return;\n    const typesPresent = types.filter((type) => typeof user[type] === \"string\");\n    if (!typesPresent.length) {\n      logger2.debug(\"no need to revoke due to no token(s)\");\n      return;\n    }\n    for (const type of typesPresent) {\n      await this._client.revokeToken(\n        user[type],\n        // eslint-disable-line @typescript-eslint/no-non-null-assertion\n        type\n      );\n      logger2.info(`${type} revoked successfully`);\n      if (type !== \"access_token\") {\n        user[type] = null;\n      }\n    }\n    await this.storeUser(user);\n    logger2.debug(\"user stored\");\n    this._events.load(user);\n  }\n  /**\n   * Enables silent renew for the `UserManager`.\n   */\n  startSilentRenew() {\n    this._logger.create(\"startSilentRenew\");\n    void this._silentRenewService.start();\n  }\n  /**\n   * Disables silent renew for the `UserManager`.\n   */\n  stopSilentRenew() {\n    this._silentRenewService.stop();\n  }\n  get _userStoreKey() {\n    return `user:${this.settings.authority}:${this.settings.client_id}`;\n  }\n  async _loadUser() {\n    const logger2 = this._logger.create(\"_loadUser\");\n    const storageString = await this.settings.userStore.get(this._userStoreKey);\n    if (storageString) {\n      logger2.debug(\"user storageString loaded\");\n      return User.fromStorageString(storageString);\n    }\n    logger2.debug(\"no user storageString\");\n    return null;\n  }\n  async storeUser(user) {\n    const logger2 = this._logger.create(\"storeUser\");\n    if (user) {\n      logger2.debug(\"storing user\");\n      const storageString = user.toStorageString();\n      await this.settings.userStore.set(this._userStoreKey, storageString);\n    } else {\n      this._logger.debug(\"removing user\");\n      await this.settings.userStore.remove(this._userStoreKey);\n    }\n  }\n  /**\n   * Removes stale state entries in storage for incomplete authorize requests.\n   */\n  async clearStaleState() {\n    await this._client.clearStaleState();\n  }\n};\n\n// package.json\nvar version = \"2.2.5\";\n\n// src/Version.ts\nvar Version = version;\nexport {\n  AccessTokenEvents,\n  CheckSessionIFrame,\n  ErrorResponse,\n  ErrorTimeout,\n  InMemoryWebStorage,\n  Log,\n  Logger,\n  MetadataService,\n  OidcClient,\n  OidcClientSettingsStore,\n  SessionMonitor,\n  SigninResponse,\n  SigninState,\n  SignoutResponse,\n  State,\n  User,\n  UserManager,\n  UserManagerSettingsStore,\n  Version,\n  WebStorageStateStore\n};\n//# sourceMappingURL=oidc-client-ts.js.map\n","/* single-spa-layout@1.6.0 - esm */\nimport*as e from\"single-spa\";import{addErrorHandler as t,removeErrorHandler as n,mountRootParcel as r,navigateToUrl as o,getMountedApps as a,checkActivityFunctions as i,getAppNames as c}from\"single-spa\";function u(e){return(u=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||f(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function f(e,t){if(e){if(\"string\"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=\"undefined\"!=typeof window;function m(e,t){if(\"object\"!==u(t)||Array.isArray(t)||null===t)throw Error(\"Invalid \".concat(e,\": received \").concat(Array.isArray(t)?\"array\":t,\" but expected a plain object\"))}function y(e,t){if(\"boolean\"!=typeof t)throw Error(\"Invalid \".concat(e,\": received \").concat(u(t),\", but expected a boolean\"))}function g(e,t,n,r){if(!r){var o=Object.keys(t),a=[];o.forEach((function(e){n.indexOf(e)<0&&a.push(e)})),a.length>0&&console.warn(Error(\"Invalid \".concat(e,\": received invalid properties '\").concat(a.join(\", \"),\"', but valid properties are \").concat(n.join(\", \"))))}}function b(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(\"string\"!=typeof t||n&&\"\"===t.trim())throw Error(\"Invalid \".concat(e,\": received '\").concat(t,\"', but expected a\").concat(n?\" non-blank\":\"\",\" string\"))}function w(e,t){if(b(e,t),t.indexOf(\"/\")<0)throw Error(\"Invalid \".concat(e,\": received '\").concat(t,\"', but expected an absolute path that starts with /\"))}function E(e,t,n){if(!Array.isArray(t)&&(\"object\"!==u(u(t))||\"number\"!==t.length))throw Error(\"Invalid \".concat(e,\": received '\").concat(t,\"', but expected an array\"));for(var r=arguments.length,o=new Array(r>3?r-3:0),a=3;a<r;a++)o[a-3]=arguments[a];for(var i=0;i<t.length;i++)n.apply(void 0,[t[i],\"\".concat(e,\"[\").concat(i,\"]\")].concat(o))}function N(e,t){var n;return\"/\"===(n=\"/\"===e.substr(-1)?\"/\"===t[0]?e+t.slice(1):e+t:\"/\"===t[0]?e+t:e+\"/\"+t).substr(-1)&&n.length>1&&(n=n.slice(0,n.length-1)),n}function O(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n];return null}var C=Object.prototype.hasOwnProperty.call(e,\"default\")?Object.getOwnPropertyDescriptor(e,\"default\").value.pathToActiveWhen:e.pathToActiveWhen,P=\"undefined\"!=typeof Symbol?Symbol():\"@\";function A(e,t){if(e&&e.nodeName||\"string\"==typeof e){if(v&&!t&&window.singleSpaLayoutData&&(t=window.singleSpaLayoutData),\"string\"==typeof e){if(!v)throw Error(\"calling constructRoutes with a string on the server is not yet supported\");if(!(e=(new DOMParser).parseFromString(e,\"text/html\").documentElement.querySelector(\"single-spa-router\")))throw Error(\"constructRoutes should be called with a string HTML document that contains a <single-spa-router> element.\")}e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(\"template\"===e.nodeName.toLowerCase()&&(e=(e.content||e).querySelector(\"single-spa-router\")),\"single-spa-router\"!==e.nodeName.toLowerCase())throw Error(\"single-spa-layout: The HTMLElement passed to constructRoutes must be <single-spa-router> or a <template> containing the router. Received \".concat(e.nodeName));v&&e.isConnected&&e.parentNode.removeChild(e);var n={routes:[],redirects:{}};L(e,\"mode\")&&(n.mode=L(e,\"mode\")),L(e,\"base\")&&(n.base=L(e,\"base\")),L(e,\"containerEl\")&&(n.containerEl=L(e,\"containerEl\"));for(var r=0;r<e.childNodes.length;r++){var o;(o=n.routes).push.apply(o,p(x(e.childNodes[r],t,n)))}return n}(e,t)}else if(t)throw Error(\"constructRoutes should be called either with an HTMLElement and layoutData, or a single json object.\");return function(e){m(\"routesConfig\",e);var t,n=e.disableWarnings;if(g(\"routesConfig\",e,[\"mode\",\"base\",\"containerEl\",\"routes\",\"disableWarnings\",\"redirects\"],n),e.hasOwnProperty(\"containerEl\")?function(e,t){if(\"string\"==typeof t?\"\"===t.trim():!(v&&t instanceof HTMLElement))throw Error(\"Invalid \".concat(\"routesConfig.containerEl\",\": received \").concat(t,\" but expected either non-blank string or HTMLElement\"))}(0,e.containerEl):e.containerEl=\"body\",e.hasOwnProperty(\"mode\")||(e.mode=\"history\"),function(e,t,n){if(n.indexOf(t)<0)throw Error(\"Invalid \".concat(\"routesConfig.mode\",\": received '\").concat(t,\"' but expected \").concat(n.join(\", \")))}(0,e.mode,[\"history\",\"hash\"]),e.hasOwnProperty(\"base\")?(b(\"routesConfig.base\",e.base),e.base=(0!==(t=e.base).indexOf(\"/\")&&(t=\"/\"+t),\"/\"!==t[t.length-1]&&(t+=\"/\"),t)):e.base=\"/\",e.hasOwnProperty(\"redirects\"))for(var r in m(\"routesConfig.redirects\",e.redirects),e.redirects){var o=e.redirects[r];w(\"routesConfig.redirects key\",r),w(\"routesConfig.redirects['\".concat(r,\"']\"),o)}var a=v?window.location.pathname:\"/\",i=\"hash\"===e.mode?a+\"#\":\"\";E(\"routesConfig.routes\",e.routes,(function e(t,r,o){var a=o.parentPath,i=o.siblingActiveWhens,c=o.parentActiveWhen;if(m(r,t),\"application\"===t.type)g(r,t,[\"type\",\"name\",\"props\",\"loader\",\"error\"],n),t.props&&m(\"\".concat(r,\".props\"),t.props),b(\"\".concat(r,\".name\"),t.name);else if(\"route\"===t.type){g(r,t,[\"type\",\"path\",\"routes\",\"props\",\"default\",\"exact\"],n),t.hasOwnProperty(\"exact\")&&y(\"\".concat(r,\".exact\"),t.exact);var u,s=t.hasOwnProperty(\"path\"),l=t.hasOwnProperty(\"default\");if(s)b(\"\".concat(r,\".path\"),t.path),u=N(a,t.path),t.activeWhen=C(u,t.exact),i.push(t.activeWhen);else{if(!l)throw Error(\"Invalid \".concat(r,\": routes must have either a path or default property.\"));y(\"\".concat(r,\".default\"),t.default),u=a,t.activeWhen=function(e,t){return function(n){return t(n)&&!e.some((function(e){return e(n)}))}}(i,c)}if(s&&l&&t.default)throw Error(\"Invalid \".concat(r,\": cannot have both path and set default to true.\"));t.routes&&E(\"\".concat(r,\".routes\"),t.routes,e,{parentPath:u,siblingActiveWhens:[],parentActiveWhen:t.activeWhen})}else{if(\"undefined\"!=typeof Node&&t instanceof Node);else for(var d in t)\"routes\"!==d&&\"attrs\"!==d&&b(\"\".concat(r,\"['\").concat(d,\"']\"),t[d],!1);t.routes&&E(\"\".concat(r,\".routes\"),t.routes,e,{parentPath:a,siblingActiveWhens:i,parentActiveWhen:c})}}),{parentPath:i+e.base,parentActiveWhen:function(){return!0},siblingActiveWhens:[]}),delete e.disableWarnings}(e),e}function L(e,t){if(v)return e.getAttribute(t);var n=O(e.attrs,(function(e){return e.name===t.toLowerCase()}));return n?n.value:null}function j(e,t){return v?e.hasAttribute(t):e.attrs.some((function(e){return e.name===t}))}function x(e,t,n){if(\"application\"===e.nodeName.toLowerCase()){if(e.childNodes.length>0)throw Error(\"<application> elements must not have childNodes. You must put in a closing </application> - self closing is not allowed\");var r={type:\"application\",name:L(e,\"name\")},o=L(e,\"loader\");if(o)if(t.loaders&&t.loaders.hasOwnProperty(o))r.loader=t.loaders[o];else if(v)throw Error(\"Application loader '\".concat(o,\"' was not defined in the htmlLayoutData\"));var a=L(e,\"error\");if(a)if(t.errors&&t.errors.hasOwnProperty(a))r.error=t.errors[a];else if(v)throw Error(\"Application error handler '\".concat(o,\"' was not defined in the htmlLayoutData\"));return S(e,r,t),[r]}if(\"route\"===e.nodeName.toLowerCase()){var i={type:\"route\",routes:[]},c=L(e,\"path\");c&&(i.path=c),j(e,\"default\")&&(i.default=!0),j(e,\"exact\")&&(i.exact=!0),S(e,i,t);for(var u=0;u<e.childNodes.length;u++){var s;(s=i.routes).push.apply(s,p(x(e.childNodes[u],t,n)))}return[i]}if(\"redirect\"===e.nodeName.toLowerCase())return n.redirects[N(\"/\",L(e,\"from\"))]=N(\"/\",L(e,\"to\")),[];if(\"undefined\"!=typeof Node&&e instanceof Node){if(e.nodeType===Node.TEXT_NODE&&\"\"===e.textContent.trim())return[];if(e.childNodes&&e.childNodes.length>0){e.routes=[];for(var l=0;l<e.childNodes.length;l++){var d;(d=e.routes).push.apply(d,p(x(e.childNodes[l],t,n)))}}return[e]}if(e.childNodes){for(var f={type:e.nodeName.toLowerCase(),routes:[],attrs:e.attrs},h=0;h<e.childNodes.length;h++){var m;(m=f.routes).push.apply(m,p(x(e.childNodes[h],t,n)))}return[f]}return\"#comment\"===e.nodeName?[{type:\"#comment\",value:e.data}]:\"#text\"===e.nodeName?[{type:\"#text\",value:e.value}]:void 0}function S(e,t,n){for(var r=(L(e,\"props\")||\"\").split(\",\"),o=0;o<r.length;o++){var a=r[o].trim();if(0!==a.length)if(t.props||(t.props={}),n.props&&n.props.hasOwnProperty(a))t.props[a]=n.props[a];else{if(v)throw Error(\"Prop '\".concat(a,\"' was not defined in the htmlLayoutData. Either remove this attribute from the HTML element or provide the prop's value\"));t.props[a]=P}}}function W(e){return{bootstrap:function(){return Promise.resolve()},mount:function(t){return Promise.resolve().then((function(){t.domElement.innerHTML=e}))},unmount:function(e){return Promise.resolve().then((function(){e.domElement.innerHTML=\"\"}))}}}function I(e){var i=e.routes;e.applications;var c=e.active,s=void 0===c||c,l=!1,d={};if(!i)throw Error(\"single-spa-layout constructLayoutEngine(opts): opts.routes must be provided. Value was \".concat(u(i)));var p=i.base.slice(0,i.base.length-1),f={isActive:function(){return l},activate:function(){l||(l=!0,v&&(window.addEventListener(\"single-spa:before-routing-event\",m),window.addEventListener(\"single-spa:before-mount-routing-event\",y),window.addEventListener(\"single-spa:routing-event\",g),t(h),y()))},deactivate:function(){l&&(l=!1,v&&(window.removeEventListener(\"single-spa:before-routing-event\",m),window.removeEventListener(\"single-spa:before-mount-routing-event\",y),window.removeEventListener(\"single-spa:routing-event\",g),n(h)))}};return s&&f.activate(),f;function h(e){var t=M({applicationName:e.appOrParcelName,location:window.location,routes:i.routes});if(t&&t.error){var n=document.getElementById(H(t.name)),o=\"string\"==typeof t.error?W(t.error):t.error;d[t.name]=r(o,{domElement:n})}setTimeout((function(){throw e}))}function m(e){var t=e.detail,n=t.cancelNavigation,r=t.newUrl,a=k(i,R(r)),c=function(e){var t=i.redirects[e];if(e===a){if(!n)throw Error(\"single-spa-layout: <redirect> requires single-spa@>=5.7.0\");return n(),setTimeout((function(){o(t)})),{v:void 0}}};for(var s in i.redirects){var l=c(s);if(\"object\"===u(l))return l.v}var p=[];q(r).forEach((function(e){d[e]&&(p.push(d[e].unmount()),delete d[e])})),p.length>0&&(n(),Promise.all(p).then((function(){o(r)})))}function y(){if(0===k(i).indexOf(p)){var e=\"string\"==typeof i.containerEl?document.querySelector(i.containerEl):i.containerEl,t=a().reduce((function(e,t){return e[t]=document.getElementById(H(t)),e}),{});T({location:window.location,routes:i.routes,parentContainer:e,shouldMount:!0,applicationContainers:t})}}function g(e){q(e.detail.newUrl).forEach((function(e){var t=document.getElementById(H(e));t&&t.isConnected&&t.parentNode.removeChild(t)}))}}function T(e){var t=e.location,n=e.routes,r=e.parentContainer,o=e.previousSibling,a=e.shouldMount,i=e.applicationContainers;return n.forEach((function(e,n){if(\"application\"===e.type){if(a){var c,u=H(e.name);i[e.name]?c=i[e.name]:document.getElementById(u)?c=document.getElementById(u):(c=document.createElement(\"div\")).id=u,D(c,r,o),o=c}}else if(\"route\"===e.type)o=T({location:t,routes:e.routes,parentContainer:r,previousSibling:o,shouldMount:a&&e.activeWhen(t),applicationContainers:i});else if(e instanceof Node||\"string\"==typeof e.type)if(a){if(!e.connectedNode){var s=e instanceof Node?e.cloneNode(!1):B(e);e.connectedNode=s}D(e.connectedNode,r,o),e.routes&&T({location:t,routes:e.routes,parentContainer:e.connectedNode,previousSibling:null,shouldMount:a,applicationContainers:i}),o=e.connectedNode}else(l=e.connectedNode)&&(l.remove?l.remove():l.parentNode.removeChild(l)),delete e.connectedNode;var l})),o}function M(e){for(var t=e.applicationName,n=e.location,r=e.routes,o=0;o<r.length;o++){var a=r[o];if(\"application\"===a.type){if(a.name===t)return a}else if(\"route\"===a.type){if(a.activeWhen(n)){var i=M({applicationName:t,location:n,routes:a.routes});if(i)return i}}else if(a.routes){var c=M({applicationName:t,location:n,routes:a.routes});if(c)return c}}}function D(e,t,n){var r=n?n.nextSibling:t.firstChild;r!==e&&t.insertBefore(e,r)}function H(e){return\"single-spa-application:\".concat(e)}function B(e){if(\"#text\"===e.type.toLowerCase())return document.createTextNode(e.value);if(\"#comment\"===e.type.toLowerCase())return document.createComment(e.value);var t=document.createElement(e.type);return(e.attrs||[]).forEach((function(e){t.setAttribute(e.name,e.value)})),t.routes&&t.routes.forEach((function(e){t.appendChild(B(e))})),t}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:location;return t[\"hash\"===e.mode?\"hash\":\"pathname\"]}function R(e){try{return new URL(e)}catch(n){var t=document.createElement(\"a\");return t.href=e,t}}function q(e){var t=[],n=i(e?R(e):location);return c().forEach((function(e){n.indexOf(e)<0&&t.push(e)})),t}function U(e){var t=e.routes,n=e.loadApp,o={};return F(o,X,{},t.routes),Object.keys(o).map((function(e){var t=o[e];return{name:e,customProps:function(e,n){var r=O(t,(function(e){return e.activeWhen(n)}));return r?r.props:{}},activeWhen:t.map((function(e){return e.activeWhen})),app:function(){var o;v&&(o=O(t,(function(e){return e.activeWhen(window.location)})));var a=n({name:e});return o&&o.loader?function(e,t,n){return Promise.resolve().then((function(){var o,a=H(e),i=document.getElementById(a);i||((i=document.createElement(\"div\")).id=a,i.style.display=\"none\",document.body.appendChild(i),o=function(){i.style.removeProperty(\"display\"),\"\"===i.getAttribute(\"style\")&&i.removeAttribute(\"style\"),window.removeEventListener(\"single-spa:before-mount-routing-event\",o)},window.addEventListener(\"single-spa:before-mount-routing-event\",o));var c=\"string\"==typeof t.loader?W(t.loader):t.loader,u=r(c,{name:\"application-loader:\".concat(e),domElement:i});function s(){return u.unmount().then((function(){o&&o()}))}return Promise.all([u.mountPromise,n]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}(t,n)||f(t,n)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}());r[0];var o=r[1];return s().then((function(){return o}))}),(function(e){return s().then((function(){throw e}))}))}))}(e,o,a):a}}}))}function F(e,t,n,r){r.forEach((function(r){\"application\"===r.type?(e[r.name]||(e[r.name]=[]),e[r.name].push({activeWhen:t,props:V(n,r.props),loader:r.loader})):\"route\"===r.type?F(e,r.activeWhen,V(n,r.props),r.routes):r.routes&&F(e,t,n,r.routes)}))}function V(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d(d({},e),t)}function X(){return!0}export{U as constructApplications,I as constructLayoutEngine,A as constructRoutes};\n","export default function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}","import _typeof from \"./typeof.js\";\nexport default function _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, toPropertyKey(descriptor.key), descriptor);\n  }\n}\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","import { UserManager } from \"oidc-client-ts\";\nimport { authority, host, userStore } from \"./index\";\n\nexport class Manager {\n  static um: UserManager;\n  static counter = 0;\n  static got = 0;\n\n  private constructor() {\n    Manager.counter++;\n  }\n\n  public static userManager(): UserManager {\n    this.got++;\n    if (!this.um) {\n      this.counter++;\n      this.um = new UserManager({\n        authority: authority(),\n        client_id: 'pbi.admin',\n        redirect_uri: `${host()}/signin-oidc`,\n        userStore: userStore()\n      });\n    }\n    console.info('==== Manager', Manager.counter, 'got', Manager.got);\n    return this.um;\n  }\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","import { WebStorageStateStore } from \"oidc-client-ts\";\nimport { Manager } from \"./manager\";\n\nexport const userStore = () =>\n  new WebStorageStateStore({\n    prefix: 'id-cat:',\n    store: window.localStorage,\n  });\n\nexport const getAccessToken = async () => {\n  const user = await getUser();\n  return user?.access_token;\n};\n\nexport const authority = () => \"https://idsrv.marcelbenders.com\";\n  //'http://localhost:7003';\n\nexport const host = () => //\"https://marcelbenders.com\";\n  \"http://localhost:9000\";\n\nexport const userLoggedIn = async () => {\n  const user = await getUser();\n  return user && !user.expired;\n}\n\nexport const getUser = async () => {\n  console.info('==== getUser');\n  const userManager = Manager.userManager();\n  const user = await userManager.getUser();\n  console.info('==== (User)', user);\n  return user;\n};\n","import { Log, UserManager } from 'oidc-client-ts';\nimport {\n  constructApplications,\n  constructLayoutEngine,\n  constructRoutes,\n} from 'single-spa-layout';\nimport { registerApplication, start } from 'single-spa';\n\nimport microfrontendLayout from './microfrontend-layout.html';\nimport { authority, host, userStore } from \"auth\";\n\nLog.setLogger(console);\nLog.setLevel(Log.INFO);\n\n\nconst initUserManager = () => {\n  const um = new UserManager({\n    authority: authority(),\n    client_id: 'pbi.admin',\n    redirect_uri:  `${host()}/signin-oidc`,\n    silent_redirect_uri: `${host()}/silent-renew`,\n    includeIdTokenInSilentSignout: true,\n    silentRequestTimeoutInSeconds: 10,\n    includeIdTokenInSilentRenew: true,\n    response_type: 'code',\n    monitorSession: true,\n    checkSessionIntervalInSeconds: 5,\n    loadUserInfo: true,\n    revokeTokensOnSignout: true,\n    accessTokenExpiringNotificationTimeInSeconds: 20,\n    stopCheckSessionOnError: false,\n    monitorAnonymousSession: false,\n    scope: 'openid profile pbi_admin',\n    post_logout_redirect_uri: `${host()}/signout-callback-oidc`,\n    userStore: userStore()\n  });\n  return um;\n};\n\nconst logoutCallback = async (um: UserManager) => {\n  try {\n    if (window !== parent) {\n      console.info('==== Logout Callback silent ====');\n      await um.signoutSilentCallback(\"/\");\n    } else {\n      console.info('==== Logout Callback ====');\n      const response = await um.signoutRedirectCallback(\"/\");\n      console.info('==== logoutCallback', response);\n      window.location.href = '/';\n    }\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nconst logout = async (um: UserManager) => {\n  try {\n    console.info('==== Logout ====');\n    await um.signoutRedirect();\n  } catch (error) {\n    console.info('====== ERROR', error);\n  }\n};\n\nconst login = async (um: UserManager) => {\n  try {\n    console.info('==== Login ====');\n    await um.signinRedirect();\n  } catch (error) {\n    console.info('====== ERROR', error);\n  }\n};\n\nconst signinOidc = async () => {\n  try {\n    console.info('==== Signin Oidc ====');\n    const um = new UserManager({\n      authority: authority(),\n      client_id: 'pbi.admin',\n      redirect_uri: `${host()}/signin-oidc`,\n      silent_redirect_uri: `${host()}/silent-renew`,\n      response_mode: 'query',\n      userStore: userStore()\n    });\n    const user = await um.signinRedirectCallback();\n    if (!user || user?.expired) {\n      console.log('==== Clear Stale state');\n      await um.clearStaleState();\n    }\n\n    console.info('==== User logged in', user?.profile?.name);\n    window.location.href = '/';\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nconst startApplication = async (um: UserManager) => {\n  um.events.addAccessTokenExpiring(() => {\n    console.info('==== Token expiring');\n    console.info('==== Silent Renew');\n    um.startSilentRenew();\n  });\n\n  um.events.addUserSignedOut(() => {\n    console.log('==== User signed out of IdentityServer');\n  });\n\n  um.events.addUserSignedIn(async () => {\n    const user = await um.getUser();\n  });\n\n  const user = await um.getUser();\n  console.info('==== User', user, ' expired ', user?.expired);\n  if (user?.expired) {\n    await um.signoutSilent();\n  }\n\n  const data = {\n    props: {\n      authToken: user?.access_token,\n    },\n    loaders: {},\n  };\n\n  const routes = constructRoutes(microfrontendLayout, data);\n  const applications = constructApplications({\n    routes,\n    loadApp({name}) {\n      return System.import(name);\n    },\n  });\n  const layoutEngine = constructLayoutEngine({routes, applications});\n  applications.forEach(registerApplication);\n  layoutEngine.activate();\n  console.info('==== Start');\n  start();\n};\n\nconst silentRenew = async () => {\n  const um = new UserManager({\n    authority: authority(),\n    client_id: 'pbi.admin',\n    redirect_uri: `${host()}/signin-oidc`,\n    silent_redirect_uri: `${host()}/silent-renew`,\n    response_mode: 'query',\n    response_type: 'code',\n    userStore: userStore()\n  });\n  console.info(\"==== Silent Renew callback\");\n  await um.signinSilentCallback();\n}\n\nconst bootstrap = async (url: URL) => {\n  const path = url.pathname;\n  const um = initUserManager();\n  switch (path) {\n    case '/login':\n      await login(um);\n      break;\n    case '/signin-oidc':\n      await signinOidc();\n      break;\n    case '/silent-renew':\n      await silentRenew();\n      break;\n    case '/logout':\n      await logout(um);\n      break;\n    case '/signout-callback-oidc':\n      await logoutCallback(um);\n      break;\n    default:\n      await startApplication(um);\n      break;\n  }\n};\n\nconst url = new URL(document.URL);\nif (window != parent) {\n  console.log('==== iFrame', url.pathname);\n  if (url.pathname === \"/silent-renew\") {\n    silentRenew().catch(console.error);\n  }\n} else {\n  bootstrap(url).catch(console.error);\n}\n"],"names":["CryptoJS","module","exports","Math","undefined","crypto","window","self","globalThis","msCrypto","g","err","cryptoSecureRandomInt","getRandomValues","Uint32Array","randomBytes","readInt32LE","Error","create","Object","F","obj","subtype","prototype","C","C_lib","lib","Base","extend","overrides","this","mixIn","hasOwnProperty","init","$super","apply","arguments","instance","properties","propertyName","toString","clone","WordArray","words","sigBytes","length","encoder","Hex","stringify","concat","wordArray","thisWords","thatWords","thisSigBytes","thatSigBytes","clamp","i","thatByte","j","ceil","call","slice","random","nBytes","push","C_enc","enc","hexChars","bite","join","parse","hexStr","hexStrLength","parseInt","substr","Latin1","latin1Chars","String","fromCharCode","latin1Str","latin1StrLength","charCodeAt","Utf8","decodeURIComponent","escape","e","utf8Str","unescape","encodeURIComponent","BufferedBlockAlgorithm","reset","_data","_nDataBytes","_append","data","_process","doFlush","processedWords","dataWords","dataSigBytes","blockSize","nBlocksReady","nWordsReady","max","_minBufferSize","nBytesReady","min","offset","_doProcessBlock","splice","C_algo","Hasher","cfg","_doReset","update","messageUpdate","finalize","_doFinalize","_createHelper","hasher","message","_createHmacHelper","key","HMAC","algo","Base64","map","_map","base64Chars","triplet","charAt","paddingChar","base64Str","base64StrLength","reverseMap","_reverseMap","paddingIndex","indexOf","bitsCombined","parseLoop","H","K","isPrime","n","sqrtN","sqrt","factor","getFractionalBits","nPrime","pow","W","SHA256","_hash","M","a","b","c","d","f","h","gamma0x","gamma0","gamma1x","gamma1","maj","sigma0","t1","nBitsTotal","nBitsLeft","floor","HmacSHA256","resolveDirectory","rootDirLevel","meta","url","console","error","urlString","rootDirectoryLevel","document","createElement","href","pathname","numDirsProcessed","index","finalPath","protocol","host","Number","isInteger","__WEBPACK_EXTERNAL_MODULE__645__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","y","__system_context__","Function","r","Symbol","toStringTag","defineProperty","value","p","autoPublicPath","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","done","Promise","then","fn","args","name","atob","bind","t","replace","o","toUpperCase","level","logger","Log2","nopLogger","debug","warn","Log","setLevel","setLogger","Logger","constructor","_name","_format","_method","method","methodLogger","createStatic","staticMethod","staticLogger","prefix","CryptoUtils","_randomWord","generateUUIDv4","generateCodeVerifier","generateCodeChallenge","code_verifier","hashed","sha256","generateBasicAuth","client_id","client_secret","basicAuth","Event","_logger","_callbacks","addHandler","cb","removeHandler","idx","lastIndexOf","raise","ev","JwtUtils","decode","token","header","JSON","split","PopupUtils","center","features","_a","width","find","outerWidth","left","round","screenX","height","top","screenY","outerHeight","serialize","entries","filter","Timer","super","_timerHandle","_expiration","_callback","diff","getEpochTime","cancel","Date","now","durationInSeconds","logger2","expiration","timerDurationInSeconds","setInterval","clearInterval","UrlUtils","readParams","responseMode","TypeError","params","URL","URLSearchParams","ErrorResponse","form","_b","_c","error_description","error_uri","state","userState","session_state","ErrorTimeout","AccessTokenEvents","_expiringTimer","_expiredTimer","_expiringNotificationTimeInSeconds","expiringNotificationTimeInSeconds","load","container","access_token","expires_in","duration","expiring","expired","unload","addAccessTokenExpiring","removeAccessTokenExpiring","addAccessTokenExpired","removeAccessTokenExpired","InMemoryWebStorage","clear","getItem","setItem","removeItem","getOwnPropertyNames","JsonService","additionalContentTypes","_jwtHandler","_extraHeaders","_contentTypes","fetchWithTimeout","input","timeoutInSeconds","initFetch","fetch","controller","AbortController","timeoutId","setTimeout","abort","signal","DOMException","clearTimeout","getJson","credentials","headers","response","appendExtraHeaders","status","contentType","get","item","startsWith","throw","ok","text","json","statusText","postForm","body","initCredentials","responseText","customKeys","keys","protectedHeaders","forEach","headerName","includes","toLocaleLowerCase","content","WebStorageStateStore","store","localStorage","_store","_prefix","set","remove","getAllKeys","len","OidcClientSettingsStore","authority","metadataUrl","metadata","signingKeys","metadataSeed","response_type","scope","redirect_uri","post_logout_redirect_uri","client_authentication","prompt","display","max_age","ui_locales","acr_values","resource","response_mode","filterProtocolClaims","loadUserInfo","staleStateAgeInSeconds","clockSkewInSeconds","userInfoJwtIssuer","mergeClaims","disablePKCE","stateStore","refreshTokenCredentials","revokeTokenAdditionalContentTypes","fetchRequestCredentials","refreshTokenAllowedScope","extraQueryParams","extraTokenParams","extraHeaders","endsWith","TokenClient","_settings","_metadataService","_jsonService","exchangeCode","grant_type","code","append","getTokenEndpoint","exchangeCredentials","exchangeRefreshToken","refresh_token","Array","isArray","param","revoke","getRevocationEndpoint","token_type_hint","State","id","created","request_type","toStorageString","fromStorageString","storageString","clearStaleState","storage","age","cutoff","SigninState","code_challenge","skipUserInfo","SigninResponse","token_type","profile","expires_at","isOpenId","id_token","DefaultProtocolClaims","InternalRequiredProtocolClaims","User","scopes","messageSource","AbstractChildWindow","_abort","_disposeHandlers","Set","_window","navigate","location","keepOpen","listener","origin","scriptOrigin","source","_dispose","addEventListener","add","removeEventListener","reason","close","dispose","_notifyParent","parent","targetOrigin","postMessage","DefaultPopupWindowFeatures","toolbar","DefaultPopupTarget","DefaultAccessTokenExpiringNotificationTimeInSeconds","DefaultCheckSessionIntervalInSeconds","DefaultSilentRequestTimeoutInSeconds","UserManagerSettingsStore","popup_redirect_uri","popup_post_logout_redirect_uri","popupWindowFeatures","popupWindowTarget","redirectMethod","redirectTarget","iframeNotifyParentOrigin","iframeScriptOrigin","silent_redirect_uri","silentRequestTimeoutInSeconds","automaticSilentRenew","validateSubOnSilentRenew","includeIdTokenInSilentRenew","monitorSession","monitorAnonymousSession","checkSessionIntervalInSeconds","query_status_response_type","stopCheckSessionOnError","revokeTokenTypes","revokeTokensOnSignout","includeIdTokenInSilentSignout","accessTokenExpiringNotificationTimeInSeconds","userStore","sessionStorage","IFrameWindow","_timeoutInSeconds","_frame","createHiddenIframe","contentWindow","iframe","style","visibility","position","appendChild","timer","parentNode","_a2","frame","target","removeChild","notifyParent","PopupWindow","centeredPopup","open","focus","popupClosedInterval","closed","notifyOpener","opener","UserManagerEvents","settings","_userLoaded","_userUnloaded","_silentRenewError","_userSignedIn","_userSignedOut","_userSessionChanged","user","raiseEvent","addUserLoaded","removeUserLoaded","addUserUnloaded","removeUserUnloaded","addSilentRenewError","removeSilentRenewError","_raiseSilentRenewError","addUserSignedIn","removeUserSignedIn","_raiseUserSignedIn","addUserSignedOut","removeUserSignedOut","_raiseUserSignedOut","addUserSessionChanged","removeUserSessionChanged","_raiseUserSessionChanged","UserManager","_client","metadataService","_signingKeys","_metadata","_metadataUrl","_fetchRequestCredentials","resetSigningKeys","getMetadata","assign","getIssuer","_getMetadataProperty","getAuthorizationEndpoint","getUserInfoEndpoint","optional","getCheckSessionIframe","getEndSessionEndpoint","getKeysEndpoint","getSigningKeys","jwks_uri","keySet","_claimsService","claims","result","protocolClaims","claim","claims1","claims2","values","previousValue","_validator","_userInfoService","_getClaimsFromJwt","async","payload","getClaims","_tokenClient","validateSigninResponse","_processSigninState","_processCode","_validateIdTokenAttributes","_processClaims","validateCredentialsResponse","validateRefreshResponse","hasIdToken","validateSignoutResponse","validateSub","sub","tokenResponse","existingToken","incoming","existing","auth_time","azp","createSigninRequest","request","request_uri","id_token_hint","login_hint","nonce","signinRequest","state_data","optionalParams","parsedUrl","searchParams","signinState","readSigninResponseState","removeState","storedStateString","processSigninResponse","processResourceOwnerPasswordCredentials","username","password","signinResponse","useRefreshToken","allowableScopes","s","createSignoutRequest","signoutState","readSignoutResponseState","processSignoutResponse","revokeToken","type","_redirectNavigator","prepare","targetWindow","redirect","promise","stop","_popupNavigator","callback","_iframeNavigator","_events","_silentRenewService","_userManager","_isStarted","_retryTimer","_tokenExpiring","signinSilent","events","start","getUser","startSilentRenew","_sessionMonitor","_start","_sub","_sid","sid","_checkSessionIFrame","intervalInSeconds","stopOnError","checkSessionIFrame","_client_id","_intervalInSeconds","_stopOnError","_timer","_session_state","_message","_frame_origin","src","onload","send","_stop","timerHandle","session","querySessionStatus","tmpUser","_init","catch","_loadUser","removeUser","storeUser","signinRedirect","requestArgs","handle","_signinStart","signinRedirectCallback","_signinEnd","signinResourceOwnerCredentials","_buildUser","signinPopup","_signin","signinPopupCallback","_useRefreshToken","verifySub","signinSilentCallback","signinCallback","signoutCallback","signoutRedirectCallback","signoutPopupCallback","signoutSilentCallback","navResponse","signoutRedirect","_signoutStart","_signoutEnd","signoutPopup","_signout","_revokeInternal","signoutRequest","signoutResponse","signoutSilent","revokeTokens","types","typesPresent","stopSilentRenew","_userStoreKey","u","iterator","enumerable","configurable","writable","l","getOwnPropertySymbols","getOwnPropertyDescriptor","getOwnPropertyDescriptors","defineProperties","from","test","v","m","trim","w","E","N","O","pathToActiveWhen","P","A","nodeName","singleSpaLayoutData","DOMParser","parseFromString","documentElement","querySelector","toLowerCase","isConnected","routes","redirects","L","mode","base","containerEl","childNodes","x","disableWarnings","HTMLElement","parentPath","siblingActiveWhens","parentActiveWhen","props","exact","path","activeWhen","default","some","Node","getAttribute","attrs","hasAttribute","loaders","loader","errors","S","nodeType","TEXT_NODE","textContent","bootstrap","mount","domElement","innerHTML","unmount","I","applications","active","isActive","activate","deactivate","applicationName","appOrParcelName","getElementById","detail","cancelNavigation","newUrl","k","R","q","all","reduce","T","parentContainer","shouldMount","applicationContainers","previousSibling","D","connectedNode","cloneNode","B","nextSibling","firstChild","insertBefore","createTextNode","createComment","setAttribute","U","loadApp","X","customProps","app","removeProperty","removeAttribute","mountPromise","next","return","V","_typeof","_toPropertyKey","hint","prim","toPrimitive","res","_defineProperties","descriptor","_defineProperty","Manager","Constructor","_classCallCheck","counter","staticProps","got","um","INFO","logoutCallback","_ref","_asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","prev","sent","t0","_x","logout","_ref2","_callee2","_context2","_x2","login","_ref3","_callee3","_context3","_x3","signinOidc","_ref4","_callee4","_user$profile","_context4","log","startApplication","_ref5","_callee6","layoutEngine","_context6","_callee5","_context5","authToken","constructRoutes","constructApplications","_ref7","System","constructLayoutEngine","registerApplication","_x4","silentRenew","_ref8","_callee7","_context7","_ref9","_callee8","_context8","abrupt","_x5"],"sourceRoot":""}